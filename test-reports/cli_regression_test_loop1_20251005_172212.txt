=== CLI REGRESSION TEST REPORT (Loop 1/3) ===
Timestamp: Sun Oct  5 17:26:05 PDT 2025
Loop Number: 1/3
Total Tests: 27
Passed: 27
Failed: 0
Success Rate: 100%
Total Session Duration: 232.240628979s
Session Mode: PERSISTENT (single session)
Session Count Detected: 1
Loop Status: PASS

=== RESPONSE TIME ANALYSIS ===
Min Response Time: 3.561s
Max Response Time: 17.805s
Avg Response Time: 8.89s
Performance Rating: EXCELLENT

=== TEST RESULTS DETAIL ===
Test 1: Test_1_Market_Status_Query - PASS
  Response Time: 4.321s
Test 2: Test_2_Single_Stock_Snapshot_NVDA - PASS
  Response Time: 5.998s
Test 3: Test_3_Multi_Stock_Snapshot_SPY_QQQ_IWM - PASS
  Response Time: 11.732s
Test 4: Test_4_Closing_Price_Query_SPY - PASS
  Response Time: 4.340s
Test 5: Test_5_Weekly_Performance_Analysis_SPY - PASS
  Response Time: 6.160s
Test 6: Test_6_Support_Resistance_SPY - PASS
  Response Time: 3.561s
Test 7: Test_7_Technical_Analysis_SPY - PASS
  Response Time: 8.211s
Test 8: Test_8_SMA_Indicator_SPY - PASS
  Response Time: 4.888s
Test 9: Test_9_EMA_Indicator_NVDA - PASS
  Response Time: 4.573s
Test 10: Test_10_RSI_Indicator_SPY - PASS
  Response Time: 3.742s
Test 11: Test_11_MACD_Indicator_AAPL - PASS
  Response Time: 3.746s
Test 12: Test_12_Multi_Ticker_Quote_AAPL_MSFT_GOOGL - PASS
  Response Time: 15.112s
Test 13: Test_13_Options_Quote_SPY_Call - PASS
  Response Time: 5.257s
Test 14: Test_14_OHLC_Custom_Date_Range_AAPL - PASS
  Response Time: 15.109s
Test 15: Test_15_OHLC_Specific_Date_TSLA - PASS
  Response Time: 5.588s
Test 16: Test_16_OHLC_Previous_Close_SPY - PASS
  Response Time: 5.365s
Test 17: Test_17_SPY_MACD - PASS
  Response Time: 4.595s
Test 18: Test_18_SPY_SMA_20 - PASS
  Response Time: 12.434s
Test 19: Test_19_SPY_SMA_50 - PASS
  Response Time: 7.834s
Test 20: Test_20_SPY_SMA_200 - PASS
  Response Time: 13.463s
Test 21: Test_21_SPY_EMA_20 - PASS
  Response Time: 11.796s
Test 22: Test_22_SPY_EMA_50 - PASS
  Response Time: 17.006s
Test 23: Test_23_SPY_EMA_200 - PASS
  Response Time: 7.973s
Test 24: Test_24_SPY_SMA_5 - PASS
  Response Time: 10.710s
Test 25: Test_25_SPY_SMA_10 - PASS
  Response Time: 15.836s
Test 26: Test_26_SPY_EMA_5 - PASS
  Response Time: 17.805s
Test 27: Test_27_SPY_EMA_10 - PASS
  Response Time: 12.957s

=== FULL CLI OUTPUT ===
Welcome to the GPT-5 powered Market Analysis Agent. Type 'exit' to quit.
📊 CLI session 'cli_session' initialized for conversation memory
> 
✅ Query processed successfully!
Agent Response:


 • Market Status: Closed                                                        
 • Server Time: 2025-10-05 20:22:14 (UTC-04:00)                                 
 • Exchanges: NASDAQ closed, NYSE closed, OTC closed                            

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_market_status_and_date_time() - Used to obtain real-time market status   
   and server datetime per RULE #4.                                             

📊 Performance Metrics:
   ⏱️  Response Time: 4.321s
   🔢  Tokens Used: 10,918 (Input: 10,689, Output: 229)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA: 187.62 USD                                                             
 • Change: -1.27 (-0.67%)                                                       
 • High: 190.36                                                                 
 • Low: 185.38                                                                  
 • Open: 189.19                                                                 
 • Previous Close: 188.89                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote(ticker='NVDA') - Single ticker request, used get_stock_quote 
   per RULE #1                                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 5.998s
   🔢  Tokens Used: 11,156 (Input: 11,044, Output: 112)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: 669.21 USD (-0.01%, -0.0)                                               
    • High: 672.67, Low: 668.16, Open: 669.99, Prev Close: 669.22               
 • QQQ: 603.18 USD (-2.55%, -0.42)                                              
    • High: 607.33, Low: 601.38, Open: 606.51, Prev Close: 605.73               
 • IWM: 245.83 USD (+1.81, +0.74%)                                              
    • High: 248.09, Low: 245.03, Open: 245.35, Prev Close: 244.02               

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['SPY','QQQ','IWM'], market_type='stocks') -   
   Initial attempt for multiple tickers; data unavailable, fallback to          
   single-ticker quotes per RULE #2 and #7                                      
 • get_stock_quote(ticker='SPY') - Fallback for SPY price due to initial data   
   issue                                                                        
 • get_stock_quote(ticker='QQQ') - Fallback for QQQ price due to initial data   
   issue                                                                        
 • get_stock_quote(ticker='IWM') - Fallback for IWM price due to initial data   
   issue                                                                        

📊 Performance Metrics:
   ⏱️  Response Time: 11.732s
   🔢  Tokens Used: 31,679 (Input: 31,234, Output: 445)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY closing price today: 669.22 USD                                          

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote(ticker='SPY') - Single ticker request to fetch latest quote  
   and previous_close for today’s closing price.                                

📊 Performance Metrics:
   ⏱️  Response Time: 4.340s
   🔢  Tokens Used: 14,092 (Input: 13,826, Output: 266)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY weekly price change: 5.51 USD, 0.83% (latest week close 669.21 vs prior  
   week 663.70)                                                                 

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-01',        
   to_date='2025-10-05', timespan='week', multiplier=1) - Retrieved weekly      
   closes to compute weekly change.                                             

📊 Performance Metrics:
   ⏱️  Response Time: 6.160s
   🔢  Tokens Used: 15,146 (Input: 14,599, Output: 547)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY Support: 661.61, 664.36                                                  
 • SPY Resistance: 672.68                                                       

Notes: Recent weekly high 672.68; recent weekly low 661.61. Immediate levels may
shift with momentum.                                                            

📊 Performance Metrics:
   ⏱️  Response Time: 3.561s
   🔢  Tokens Used: 8,103 (Input: 7,535, Output: 568)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:

Technical Analysis for SPY:                                                     

 • SMA(50, daily): 648.04                                                       
 • EMA(50, daily): 648.04                                                       
 • RSI(14, daily): 69.00 (near overbought threshold)                            
 • MACD (12/26/9, daily): MACD 6.05, Signal 5.99, Histogram 0.06                

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Calculate    
   50-day simple moving average                                                 
 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - Calculate    
   50-day exponential moving average                                            
 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - Calculate    
   14-day RSI                                                                   
 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - Calculate MACD components                       

📊 Performance Metrics:
   ⏱️  Response Time: 8.211s
   🔢  Tokens Used: 11,998 (Input: 11,286, Output: 712)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY SMA(50, daily): 648.03                                                   

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Compute      
   50-day Simple Moving Average.                                                

📊 Performance Metrics:
   ⏱️  Response Time: 4.888s
   🔢  Tokens Used: 19,255 (Input: 19,161, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA 20-day EMA: 180.54                                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='NVDA', timespan='day', window=20, limit=10) - Compute     
   20-day EMA.                                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 4.573s
   🔢  Tokens Used: 20,175 (Input: 20,018, Output: 157)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY RSI (14, daily): 69.00 (near overbought threshold of 70)                 

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - Retrieve     
   14-day RSI values for SPY.                                                   

📊 Performance Metrics:
   ⏱️  Response Time: 3.742s
   🔢  Tokens Used: 20,947 (Input: 20,774, Output: 173)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL MACD: 7.41, Signal: 6.97, Histogram: 0.44                               

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_macd(ticker='AAPL', timespan='day', short_window=12, long_window=26,  
   signal_window=9, limit=10) - Retrieve MACD components for AAPL.              

📊 Performance Metrics:
   ⏱️  Response Time: 3.746s
   🔢  Tokens Used: 22,032 (Input: 21,903, Output: 129)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL: 258.02 USD (+0.89, +0.35%) | High 259.24 | Low 253.95 | Open 254.66 |  
   Prev Close 257.13                                                            
 • MSFT: 517.35 USD (+1.61, +0.31%) | High 520.49 | Low 515.00 | Open 517.10 |  
   Prev Close 515.74                                                            
 • GOOGL: 245.35 USD (-0.34, -0.14%) | High 246.30 | Low 241.66 | Open 244.49 | 
   Prev Close 245.69                                                            

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote(ticker='AAPL') - Single ticker request, used due to initial  
   multi-ticker data issues                                                     
 • get_stock_quote(ticker='MSFT') - Single ticker request, used due to initial  
   multi-ticker data issues                                                     
 • get_stock_quote(ticker='GOOGL') - Single ticker request, used due to initial 
   multi-ticker data issues                                                     

📊 Performance Metrics:
   ⏱️  Response Time: 15.112s
   🔢  Tokens Used: 59,910 (Input: 59,521, Output: 389)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:

Options quote for SPY O:SPY251219C00650000                                      

 • Underlying: SPY                                                              
 • Type/Contract: Call, 65.00 strike, Dec 19, 2025                              
 • Last price (contract): 34.90                                                 
 • Bid/Ask (day): 34.60 / 37.67                                                 
 • Implied Vol (IV): 18.12%                                                     
 • Delta: 0.679                                                                 
 • Gamma: 0.00663                                                               
 • Theta: -0.165                                                                
 • Vega: 1.143                                                                  
 • Open Interest: 21,568                                                        
 • Day OHLC (SPY): Open 35.76, High 37.67, Low 34.60, Close 34.90               
 • Last update: 0 (timestamp)                                                   

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_options_quote_single(underlying_asset='SPY',                             
   option_contract='O:SPY251219C00650000') - Retrieve detailed option quote and 
   Greeks from Polygon.io.                                                      

📊 Performance Metrics:
   ⏱️  Response Time: 5.257s
   🔢  Tokens Used: 25,329 (Input: 25,073, Output: 256)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:

AAPL daily bars (Jan 1, 2024 to Mar 31, 2024)                                   

 • Bar count: 61                                                                
 • Period open (first bar): 187.15                                              
 • Period close (last bar): 171.48                                              
 • High: 195.75                                                                 
 • Low: 168.68                                                                  
 • Data covers 2024-01-02 to 2024-03-28 (Jan 1 is a market holiday)             

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='AAPL', from_date='2024-01-01',       
   to_date='2024-03-31', timespan='day', multiplier=1) - Retrieve daily OHLC    
   bars for the requested date range.                                           

📊 Performance Metrics:
   ⏱️  Response Time: 15.109s
   🔢  Tokens Used: 31,200 (Input: 30,204, Output: 996)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • TSLA on 2024-12-13: Open 420.00, High 436.30, Low 415.71, Close 436.23       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_specific_date(ticker='TSLA', date='2024-12-13', adjusted=True) 
   - Retrieve specific date OHLC data from Polygon.io.                          

📊 Performance Metrics:
   ⏱️  Response Time: 5.588s
   🔢  Tokens Used: 35,356 (Input: 35,102, Output: 254)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY Previous trading day close: 669.21 USD                                   

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Retrieve the     
   previous close for SPY with adjustment.                                      

📊 Performance Metrics:
   ⏱️  Response Time: 5.365s
   🔢  Tokens Used: 35,618 (Input: 35,532, Output: 86)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY MACD (daily): MACD 6.05, Signal 5.99, Histogram 0.06                     

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - Retrieve daily MACD components.                 

📊 Performance Metrics:
   ⏱️  Response Time: 4.595s
   🔢  Tokens Used: 36,584 (Input: 36,391, Output: 193)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day SMA: 661.01                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=20, limit=10) - Compute      
   20-day Simple Moving Average.                                                

📊 Performance Metrics:
   ⏱️  Response Time: 12.434s
   🔢  Tokens Used: 37,610 (Input: 37,517, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day SMA: 648.03                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Compute      
   50-day Simple Moving Average.                                                

📊 Performance Metrics:
   ⏱️  Response Time: 7.834s
   🔢  Tokens Used: 38,448 (Input: 38,289, Output: 159)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day SMA: 601.41                                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=10) - Compute     
   200-day Simple Moving Average.                                               

📊 Performance Metrics:
   ⏱️  Response Time: 13.463s
   🔢  Tokens Used: 39,211 (Input: 39,116, Output: 95)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day EMA: 660.68                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=20, limit=10) - Compute      
   20-day Exponential Moving Average.                                           

📊 Performance Metrics:
   ⏱️  Response Time: 11.796s
   🔢  Tokens Used: 39,934 (Input: 39,840, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day EMA: 648.04                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - Compute      
   50-day Exponential Moving Average.                                           

📊 Performance Metrics:
   ⏱️  Response Time: 17.006s
   🔢  Tokens Used: 40,714 (Input: 40,620, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day EMA: 607.80                                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=200, limit=10) - Compute     
   200-day Exponential Moving Average.                                          

📊 Performance Metrics:
   ⏱️  Response Time: 7.973s
   🔢  Tokens Used: 41,496 (Input: 41,402, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day SMA: 667.35                                                        

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=5, limit=10) - Compute 5-day 
   Simple Moving Average.                                                       

📊 Performance Metrics:
   ⏱️  Response Time: 10.710s
   🔢  Tokens Used: 42,278 (Input: 42,185, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day SMA: 664.78                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=10, limit=10) - Compute      
   10-day Simple Moving Average.                                                

📊 Performance Metrics:
   ⏱️  Response Time: 15.836s
   🔢  Tokens Used: 43,040 (Input: 42,947, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day EMA: 667.38                                                        

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=5, limit=10) - Compute 5-day 
   Exponential Moving Average.                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 17.805s
   🔢  Tokens Used: 43,801 (Input: 43,707, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day EMA: 665.05                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=10, limit=10) - Compute      
   10-day Exponential Moving Average.                                           

📊 Performance Metrics:
   ⏱️  Response Time: 12.957s
   🔢  Tokens Used: 44,581 (Input: 44,487, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> Goodbye!
📊 CLI session cleaned up

=== END CLI REGRESSION TEST REPORT (Loop 1/3) ===
