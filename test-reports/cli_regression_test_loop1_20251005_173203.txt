=== CLI REGRESSION TEST REPORT (Loop 1/3) ===
Timestamp: Sun Oct  5 17:36:02 PDT 2025
Loop Number: 1/3
Total Tests: 27
Passed: 27
Failed: 0
Success Rate: 100%
Total Session Duration: 238.787324873s
Session Mode: PERSISTENT (single session)
Session Count Detected: 1
Loop Status: PASS

=== RESPONSE TIME ANALYSIS ===
Min Response Time: 2.979s
Max Response Time: 20.996s
Avg Response Time: 9.19s
Performance Rating: EXCELLENT

=== TEST RESULTS DETAIL ===
Test 1: Test_1_Market_Status_Query - PASS
  Response Time: 6.684s
Test 2: Test_2_Single_Stock_Snapshot_NVDA - PASS
  Response Time: 4.995s
Test 3: Test_3_Multi_Stock_Snapshot_SPY_QQQ_IWM - PASS
  Response Time: 9.910s
Test 4: Test_4_Closing_Price_Query_SPY - PASS
  Response Time: 4.302s
Test 5: Test_5_Weekly_Performance_Analysis_SPY - PASS
  Response Time: 10.797s
Test 6: Test_6_Support_Resistance_SPY - PASS
  Response Time: 2.979s
Test 7: Test_7_Technical_Analysis_SPY - PASS
  Response Time: 8.775s
Test 8: Test_8_SMA_Indicator_SPY - PASS
  Response Time: 4.749s
Test 9: Test_9_EMA_Indicator_NVDA - PASS
  Response Time: 5.965s
Test 10: Test_10_RSI_Indicator_SPY - PASS
  Response Time: 6.796s
Test 11: Test_11_MACD_Indicator_AAPL - PASS
  Response Time: 3.671s
Test 12: Test_12_Multi_Ticker_Quote_AAPL_MSFT_GOOGL - PASS
  Response Time: 16.477s
Test 13: Test_13_Options_Quote_SPY_Call - PASS
  Response Time: 10.900s
Test 14: Test_14_OHLC_Custom_Date_Range_AAPL - PASS
  Response Time: 7.499s
Test 15: Test_15_OHLC_Specific_Date_TSLA - PASS
  Response Time: 5.801s
Test 16: Test_16_OHLC_Previous_Close_SPY - PASS
  Response Time: 4.335s
Test 17: Test_17_SPY_MACD - PASS
  Response Time: 6.297s
Test 18: Test_18_SPY_SMA_20 - PASS
  Response Time: 11.189s
Test 19: Test_19_SPY_SMA_50 - PASS
  Response Time: 7.793s
Test 20: Test_20_SPY_SMA_200 - PASS
  Response Time: 10.792s
Test 21: Test_21_SPY_EMA_20 - PASS
  Response Time: 12.312s
Test 22: Test_22_SPY_EMA_50 - PASS
  Response Time: 14.004s
Test 23: Test_23_SPY_EMA_200 - PASS
  Response Time: 11.600s
Test 24: Test_24_SPY_SMA_5 - PASS
  Response Time: 20.996s
Test 25: Test_25_SPY_SMA_10 - PASS
  Response Time: 11.756s
Test 26: Test_26_SPY_EMA_5 - PASS
  Response Time: 10.849s
Test 27: Test_27_SPY_EMA_10 - PASS
  Response Time: 16.019s

=== FULL CLI OUTPUT ===
Welcome to the GPT-5 powered Market Analysis Agent. Type 'exit' to quit.
📊 CLI session 'cli_session' initialized for conversation memory
> 
✅ Query processed successfully!
Agent Response:


 • Market status: Closed                                                        
 • After hours: No                                                              
 • Exchanges: NASDAQ closed, NYSE closed, OTC closed                            
 • Server time: 2025-10-05 20:32:05 (UTC-4)                                     

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_market_status_and_date_time() - Provide real-time market status and      
   server date/time per request.                                                

📊 Performance Metrics:
   ⏱️  Response Time: 6.684s
   🔢  Tokens Used: 10,931 (Input: 10,701, Output: 230)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA: $187.62                                                                
 • Change: -$1.27 (-0.67%)                                                      
 • Day high/low: 190.36 / 185.38                                                
 • Open: 189.19                                                                 
 • Previous close: 188.89                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote(ticker='NVDA') - Single ticker request, used Finnhub         
   real-time quote per RULE #1                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 4.995s
   🔢  Tokens Used: 11,172 (Input: 11,058, Output: 114)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: $669.21, Change -0.01 (-0.00%), Day high 672.67, Low 668.16, Open       
   669.99, Prev close 669.22                                                    
 • QQQ: $603.18, Change -2.55 (-0.42%), Day high 607.33, Low 601.38, Open       
   606.51, Prev close 605.73                                                    
 • IWM: $245.83, Change +1.81 (+0.74%), Day high 248.09, Low 245.03, Open       
   245.35, Prev close 244.02                                                    

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['SPY','QQQ','IWM'], market_type='stocks') -   
   Initial attempt for multiple tickers, but data unavailable; fell back to     
   individual calls per RULE #2 fallback.                                       
 • get_stock_quote(ticker='SPY') - Single ticker quote for SPY as fallback.     
 • get_stock_quote(ticker='QQQ') - Single ticker quote for QQQ as fallback.     
 • get_stock_quote(ticker='IWM') - Single ticker quote for IWM as fallback.     

📊 Performance Metrics:
   ⏱️  Response Time: 9.910s
   🔢  Tokens Used: 31,813 (Input: 31,393, Output: 420)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY closing price today: 669.22                                              

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote(ticker='SPY') - Single ticker quote for SPY to obtain        
   current/previous close data.                                                 

📊 Performance Metrics:
   ⏱️  Response Time: 4.302s
   🔢  Tokens Used: 13,930 (Input: 13,731, Output: 199)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: Weekly change: $7.39, +1.12%                                            

Notes:                                                                          

 • Based on weekly bars: last two weeks closes were 661.82 and 669.21 (week     
   ending 2025-09-29 and 2025-09-29+1). Current week close may differ slightly. 

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-22',        
   to_date='2025-09-29', timespan='week', multiplier=1) - Calculated            
   week-over-week change from weekly closes.                                    

📊 Performance Metrics:
   ⏱️  Response Time: 10.797s
   🔢  Tokens Used: 15,464 (Input: 14,563, Output: 901)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY support levels: 668.0, 660.0                                             
 • SPY resistance levels: 672.7, 676–680 range                                  

Notes: Levels based on recent intraday high/low and weekly close data; adjust   
with new price action.                                                          

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • None (manual S/R estimation from recent SPY data)                            

📊 Performance Metrics:
   ⏱️  Response Time: 2.979s
   🔢  Tokens Used: 7,671 (Input: 7,334, Output: 337)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:

Technical Analysis - SPY (latest)                                               

 • SMA (50-day, daily): 648.03                                                  
 • EMA (50-day, daily): 648.04                                                  
 • RSI (14-day, daily): 69.00 (near overbought threshold)                       
 • MACD (12/26/9, daily): MACD 6.05, Signal 5.99, Histogram 0.06 (bullish)      

Notes:                                                                          

 • Price above both SMA/EMA, RSI near overbought, MACD bullish.                 

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - 50-day simple
   moving average                                                               
 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - 50-day       
   exponential moving average                                                   
 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - Relative     
   Strength Index                                                               
 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - MACD indicators                                 

📊 Performance Metrics:
   ⏱️  Response Time: 8.775s
   🔢  Tokens Used: 11,685 (Input: 11,015, Output: 670)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY SMA (50-day, daily): 648.03                                              

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Calculate    
   50-day SMA from daily data.                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 4.749s
   🔢  Tokens Used: 19,000 (Input: 18,902, Output: 98)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA 20-day EMA: 180.54                                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='NVDA', timespan='day', window=20, limit=10) - Calculate   
   20-day EMA from daily data.                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 5.965s
   🔢  Tokens Used: 19,865 (Input: 19,705, Output: 160)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY RSI (14-day): 69.00                                                      
 • Interpretation: Near overbought threshold (70)                               

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - RSI values   
   for daily 14-period.                                                         

📊 Performance Metrics:
   ⏱️  Response Time: 6.796s
   🔢  Tokens Used: 20,678 (Input: 20,508, Output: 170)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL MACD (daily, 12/26/9): MACD 7.41, Signal 6.97, Histogram 0.44           

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_macd(ticker='AAPL', timespan='day', short_window=12, long_window=26,  
   signal_window=9, limit=10) - MACD indicators for daily data.                 

📊 Performance Metrics:
   ⏱️  Response Time: 3.671s
   🔢  Tokens Used: 21,821 (Input: 21,620, Output: 201)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL: $258.02, Change +$0.89 (+0.35%), High 259.24, Low 253.95, Open 254.66, 
   Prev close 257.13                                                            
 • MSFT: $517.35, Change +$1.61 (+0.31%), High 520.49, Low 515.00, Open 517.10, 
   Prev close 515.74                                                            
 • GOOGL: $245.35, Change -$0.34 (-0.14%), High 246.30, Low 241.66, Open 244.49,
   Prev close 245.69                                                            

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['AAPL','MSFT','GOOGL'], market_type='stocks') 
   - Initial parallel quote attempt; data appeared unavailable (zero values).   
 • Fallback:                                                                    
    • get_stock_quote(ticker='AAPL') - Individual quote for AAPL                
    • get_stock_quote(ticker='MSFT') - Individual quote for MSFT                
    • get_stock_quote(ticker='GOOGL') - Individual quote for GOOGL              
 • Reasoning: When multi-ticker data is incomplete, we fallback to per-ticker   
   quotes per RULE #2.                                                          

📊 Performance Metrics:
   ⏱️  Response Time: 16.477s
   🔢  Tokens Used: 59,658 (Input: 59,155, Output: 503)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY DEC 251219 C00650000 options quote:                                      
    • Contract: O:SPY251219C00650000                                            
    • Implied Volatility: 18.12%                                                
    • Delta: 0.679                                                              
    • Gamma: 0.0066                                                             
    • Theta: -0.165                                                             
    • Vega: 1.143                                                               
    • Open Interest: 21,568                                                     
    • Day: Open 35.76, High 37.67, Low 34.60, Close 34.90, Vol 247              
    • Note: Last price not provided in response                                 

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_options_quote_single(underlying_asset='SPY',                             
   option_contract='O:SPY251219C00650000') - Retrieve single options contract   
   quote and Greeks.                                                            

📊 Performance Metrics:
   ⏱️  Response Time: 10.900s
   🔢  Tokens Used: 25,205 (Input: 24,923, Output: 282)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • Range: 2024-01-01 to 2024-03-31                                              
 • Bars returned: 61                                                            
 • First bar (2024-01-01): Open 187.15, High 188.44, Low 183.89, Close 185.64   
 • Last bar (2024-03-31): Open 171.75, High 172.23, Low 170.51, Close 171.48    

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='AAPL', from_date='2024-01-01',       
   to_date='2024-03-31', timespan='day', multiplier=1) - Retrieve daily OHLC    
   bars for the requested date range.                                           

📊 Performance Metrics:
   ⏱️  Response Time: 7.499s
   🔢  Tokens Used: 30,872 (Input: 29,940, Output: 932)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • TSLA price on 2024-12-13 (adjusted): Close 436.23                            

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_specific_date(ticker='TSLA', date='2024-12-13', adjusted=True) 
   - Retrieve exact OHLC for the specific date; used to provide the closing     
   price.                                                                       

📊 Performance Metrics:
   ⏱️  Response Time: 5.801s
   🔢  Tokens Used: 35,114 (Input: 34,869, Output: 245)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY previous close: 669.21                                                   

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Retrieve last    
   completed trading day's close.                                               

📊 Performance Metrics:
   ⏱️  Response Time: 4.335s
   🔢  Tokens Used: 35,419 (Input: 35,275, Output: 144)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY MACD (daily): MACD 6.05, Signal 5.99, Histogram 0.06 (bullish)           

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - MACD indicators for daily data.                 

📊 Performance Metrics:
   ⏱️  Response Time: 6.297s
   🔢  Tokens Used: 36,360 (Input: 36,099, Output: 261)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day SMA: 661.01                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=20, limit=10) - Calculate    
   20-day SMA from daily data.                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 11.189s
   🔢  Tokens Used: 37,327 (Input: 37,233, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day SMA: 648.03                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Calculate    
   50-day SMA from daily data.                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 7.793s
   🔢  Tokens Used: 38,103 (Input: 38,007, Output: 96)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day SMA: 601.41                                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=10) - Calculate   
   200-day SMA from daily data.                                                 

📊 Performance Metrics:
   ⏱️  Response Time: 10.792s
   🔢  Tokens Used: 38,875 (Input: 38,781, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day EMA: 660.68                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=20, limit=10) - Calculate    
   20-day EMA from daily data.                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 12.312s
   🔢  Tokens Used: 39,656 (Input: 39,562, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day EMA: 648.04                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - Calculate    
   50-day EMA from daily data.                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 14.004s
   🔢  Tokens Used: 40,502 (Input: 40,342, Output: 160)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day EMA: 607.80                                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=200, limit=10) - Calculate   
   200-day EMA from daily data.                                                 

📊 Performance Metrics:
   ⏱️  Response Time: 11.600s
   🔢  Tokens Used: 41,218 (Input: 41,124, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day SMA: 667.35                                                        

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=5, limit=10) - Calculate     
   5-day SMA from daily data.                                                   

📊 Performance Metrics:
   ⏱️  Response Time: 20.996s
   🔢  Tokens Used: 42,001 (Input: 41,907, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day SMA: 664.78                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=10, limit=10) - Calculate    
   10-day SMA from daily data.                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 11.756s
   🔢  Tokens Used: 42,765 (Input: 42,671, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day EMA: 667.38                                                        

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=5, limit=10) - Calculate     
   5-day EMA from daily data.                                                   

📊 Performance Metrics:
   ⏱️  Response Time: 10.849s
   🔢  Tokens Used: 43,593 (Input: 43,433, Output: 160)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day EMA: 665.05                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=10, limit=10) - Calculate    
   10-day EMA from daily data.                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 16.019s
   🔢  Tokens Used: 44,307 (Input: 44,213, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> Goodbye!
📊 CLI session cleaned up

=== END CLI REGRESSION TEST REPORT (Loop 1/3) ===
