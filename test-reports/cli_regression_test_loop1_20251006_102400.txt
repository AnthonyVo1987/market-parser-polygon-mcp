=== CLI REGRESSION TEST REPORT (Loop 1/1) ===
Timestamp: Mon Oct  6 10:28:40 PDT 2025
Loop Number: 1/1
Total Tests: 27
Passed: 27
Failed: 0
Success Rate: 100%
Total Session Duration: 0s
Session Mode: PERSISTENT (single session)
Session Count Detected: 1
Loop Status: PASS

=== RESPONSE TIME ANALYSIS ===
Min Response Time: 7.538s
Max Response Time: 7.538s
Avg Response Time: 0s
Performance Rating: GOOD

=== TEST RESULTS DETAIL ===
Test 1: Test_1_Market_Status_Query - PASS
  Response Time: 7.538s
Test 2: Test_2_Single_Stock_Snapshot_NVDA - PASS
  Response Time: 8.824s
Test 3: Test_3_Multi_Stock_Snapshot_SPY_QQQ_IWM - PASS
  Response Time: 6.980s
Test 4: Test_4_Closing_Price_Query_SPY - PASS
  Response Time: 7.446s
Test 5: Test_5_Weekly_Performance_Analysis_SPY - PASS
  Response Time: 9.946s
Test 6: Test_6_Support_Resistance_SPY - PASS
  Response Time: 17.817s
Test 7: Test_7_Technical_Analysis_SPY - PASS
  Response Time: 13.934s
Test 8: Test_8_SMA_Indicator_SPY - PASS
  Response Time: 3.437s
Test 9: Test_9_EMA_Indicator_NVDA - PASS
  Response Time: 7.428s
Test 10: Test_10_RSI_Indicator_SPY - PASS
  Response Time: 8.426s
Test 11: Test_11_MACD_Indicator_AAPL - PASS
  Response Time: 7.686s
Test 12: Test_12_Multi_Ticker_Quote_AAPL_MSFT_GOOGL - PASS
  Response Time: 23.154s
Test 13: Test_13_Options_Quote_SPY_Call - PASS
  Response Time: 6.790s
Test 14: Test_14_OHLC_Custom_Date_Range_AAPL - PASS
  Response Time: 14.974s
Test 15: Test_15_OHLC_Specific_Date_TSLA - PASS
  Response Time: 7.820s
Test 16: Test_16_OHLC_Previous_Close_SPY - PASS
  Response Time: 6.048s
Test 17: Test_17_SPY_MACD - PASS
  Response Time: 10.548s
Test 18: Test_18_SPY_SMA_20 - PASS
  Response Time: 13.238s
Test 19: Test_19_SPY_SMA_50 - PASS
  Response Time: 7.260s
Test 20: Test_20_SPY_SMA_200 - PASS
  Response Time: 10.745s
Test 21: Test_21_SPY_EMA_20 - PASS
  Response Time: 6.805s
Test 22: Test_22_SPY_EMA_50 - PASS
  Response Time: 7.511s
Test 23: Test_23_SPY_EMA_200 - PASS
  Response Time: 7.055s
Test 24: Test_24_SPY_SMA_5 - PASS
  Response Time: 8.298s
Test 25: Test_25_SPY_SMA_10 - PASS
  Response Time: 5.833s
Test 26: Test_26_SPY_EMA_5 - PASS
  Response Time: 8.010s
Test 27: Test_27_SPY_EMA_10 - PASS
  Response Time: 6.244s

=== FULL CLI OUTPUT ===
Welcome to the GPT-5 powered Market Analysis Agent. Type 'exit' to quit.
📊 CLI session 'cli_session' initialized for conversation memory
> 
✅ Query processed successfully!
Agent Response:


 • Market status: Open                                                          
 • Exchanges: NASDAQ - Open, NYSE - Open, OTC - Open                            
 • Server time: 2025-10-06 13:24:05 (EDT)                                       

Tools Used:                                                                     

 • get_market_status_and_date_time() - Provided real-time market status and     
   server datetime per request.                                                 

📊 Performance Metrics:
   ⏱️  Response Time: 7.538s
   🔢  Tokens Used: 10,742 (Input: 10,651, Output: 91)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA: $186.25                                                                
 • Change: -$1.36 (-0.73%)                                                      
 • High: $188.46                                                                
 • Low: $183.33                                                                 
 • Open: $188.46                                                                
 • Previous close: $187.62                                                      

Tools Used:                                                                     

 • get_stock_quote(ticker='NVDA') - Single ticker request, used Finnhub quote   
   data for NVDA per RULE #1                                                    

📊 Performance Metrics:
   ⏱️  Response Time: 8.824s
   🔢  Tokens Used: 11,159 (Input: 11,048, Output: 111)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: Price 0.00, Change 0.00 (0.00%), High 0.00, Low 0.00, Open 0.00, Prev   
   close N/A                                                                    
 • QQQ: Price 0.00, Change 0.00 (0.00%), High 0.00, Low 0.00, Open 0.00, Prev   
   close N/A                                                                    
 • IWM: Price 0.00, Change 0.00 (0.00%), High 0.00, Low 0.00, Open 0.00, Prev   
   close N/A                                                                    

Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['SPY','QQQ','IWM'], market_type='stocks') -   
   Multiple tickers requested, used for snapshot data across the three ETFs per 
   RULE #2.                                                                     

📊 Performance Metrics:
   ⏱️  Response Time: 6.980s
   🔢  Tokens Used: 12,264 (Input: 11,857, Output: 407)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY closing price today (previous close): 669.21                             

Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Fallback data to 
   provide last known close when current-day close is not yet available.        

📊 Performance Metrics:
   ⏱️  Response Time: 7.446s
   🔢  Tokens Used: 13,379 (Input: 13,031, Output: 348)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY weekly price change: $2.78 (0.42%)                                       
 • Current price: $671.99                                                       
 • Last week close: $669.21                                                     

Tools Used:                                                                     

 • get_stock_quote(ticker='SPY') - Single ticker request, used Finnhub quote    
   data for current price.                                                      

📊 Performance Metrics:
   ⏱️  Response Time: 9.946s
   🔢  Tokens Used: 14,511 (Input: 13,781, Output: 730)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • Support levels (approximate):                                                
    • Around 669-670 ( Recent low area and near 50-day SMA ~ 669-670)           
    • 665-667 (psych level and prior resistance turned support area)            
 • Resistance levels (approximate):                                             
    • 672-674 ( recent high area, around current trading range)                 
    • 675-677 (near round-number resistance)                                    

Notes:                                                                          

 • 50-day SMA is near 648-649? The SMA 50 values shown are around 648-649, which
   implies SPY's recent price is above the SMA, so that could act as support on 
   pullbacks. The 200-day SMA is around 601-602 in the data, far below, acting  
   as long-term support.                                                        
 • The values provided are historical; real-time levels can shift intraday.     

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=5) - Provided      
   near-term moving average to gauge dynamic support.                           
 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=5) - Provided     
   long-term moving average for broader support context.                        
 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=5) - Provided EMA  
   as another dynamic support/resistance reference.                             

📊 Performance Metrics:
   ⏱️  Response Time: 17.817s
   🔢  Tokens Used: 30,278 (Input: 29,503, Output: 775)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY Technical Analysis (day)                                                 
 • 50-day SMA: ~648.72                                                          
 • 200-day SMA: ~601.73                                                         
 • 50-day EMA: ~648.96                                                          
 • RSI (14d): ~71.14 (overbought zone)                                          
 • MACD: MACD ~6.18, Signal ~6.03, Histogram ~0.16 (bullish momentum)           

Interpretation:                                                                 

 • Price trend is bullish with price above both short/long MAs.                 
 • RSI suggests potential near-term overbought risk.                            
 • MACD shows positive momentum, though recent slight dip in histogram.         

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Provided     
   50-day simple moving average for near-term support/resistance.               
 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=10) - Provided    
   200-day SMA for long-term context.                                           
 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - Provided     
   50-day EMA as a dynamic level.                                               
 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - Provided RSI 
   for momentum/overbought assessment.                                          
 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - Provided MACD indicators for trend strength and 
   signals.                                                                     

📊 Performance Metrics:
   ⏱️  Response Time: 13.934s
   🔢  Tokens Used: 12,081 (Input: 11,242, Output: 839)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • 50-day SMA: 648.72                                                           
 • 200-day SMA: 601.73                                                          

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Provided     
   50-day SMA                                                                   
 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=10) - Provided    
   200-day SMA                                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 3.437s
   🔢  Tokens Used: 10,251 (Input: 9,901, Output: 350)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA 20-day EMA: 181.07                                                      

Tools Used:                                                                     

 • get_ta_ema(ticker='NVDA', timespan='day', window=20, limit=10) - Provided    
   20-day EMA for NVDA.                                                         

📊 Performance Metrics:
   ⏱️  Response Time: 7.428s
   🔢  Tokens Used: 20,471 (Input: 20,379, Output: 92)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY RSI (14d): 71.14 (overbought threshold 70)                               

📊 Performance Metrics:
   ⏱️  Response Time: 8.426s
   🔢  Tokens Used: 21,244 (Input: 21,183, Output: 61)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL MACD (daily)                                                            
    • MACD: 7.24                                                                
    • Signal: 7.02                                                              
    • Histogram: 0.22                                                           

Tools Used:                                                                     

 • get_ta_macd(ticker='AAPL', timespan='day', short_window=12, long_window=26,  
   signal_window=9, limit=10) - Provided MACD indicators for trend strength and 
   momentum.                                                                    

📊 Performance Metrics:
   ⏱️  Response Time: 7.686s
   🔢  Tokens Used: 22,341 (Input: 22,203, Output: 138)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL: $256.98, Change -$1.04 (-0.40%), High $259.07, Low $255.05, Open       
   $257.65, Prev close $258.02                                                  
 • MSFT: $525.11, Change +$7.76 (+1.50%), High $525.39, Low $518.16, Open       
   $518.16, Prev close $517.35                                                  
 • GOOGL: $249.07, Change +$3.73 (+1.52%), High $249.56, Low $244.58, Open      
   $245.66, Prev close $245.35                                                  

Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['AAPL','MSFT','GOOGL'], market_type='stocks') 
   - Initial multi-ticker call (attempted); data unavailable, fallback to       
   individual quotes per RULE #2 and fallback sequence.                         
 • get_stock_quote(ticker='AAPL') - Individual quote used for AAPL.             
 • get_stock_quote(ticker='MSFT') - Individual quote used for MSFT.             
 • get_stock_quote(ticker='GOOGL') - Individual quote used for GOOGL.           

📊 Performance Metrics:
   ⏱️  Response Time: 23.154s
   🔢  Tokens Used: 61,028 (Input: 60,616, Output: 412)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY O:SPY251219C00650000 (Dec 19, 2025, 65/ C)                               
    • Day: Open 35.96, High 36.75, Low 35.58, Close 36.57, Volume 104           
    • Implied Volatility: 18.38%                                                
    • Greeks: Delta 0.691, Gamma 0.00643, Theta -0.166, Vega 0.995              
    • Open Interest: 21,482                                                     
    • Break-even price: N/A                                                     

Notes:                                                                          

 • Last price/quote not provided in response; using day bar data above.         
 • If you want bid/ask or last trade specifics, I can fetch if available.       

Tools Used:                                                                     

 • get_options_quote_single(underlying_asset='SPY',                             
   option_contract='O:SPY251219C00650000') - Retrieved option details, Greeks,  
   IV, and OI from Polygon.io.                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 6.790s
   🔢  Tokens Used: 25,741 (Input: 25,431, Output: 310)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL daily bars: 2024-01-01 to 2024-03-31                                    
 • Bars returned: 61                                                            
 • Example bars:                                                                
    • 2024-01-01: Open 187.15, High 188.44, Low 183.89, Close 185.64, Volume    
      81,964,874                                                                
    • 2024-03-31: Open 171.75, High 172.23, Low 170.51, Close 171.48, Volume    
      65,671,690                                                                

Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='AAPL', from_date='2024-01-01',       
   to_date='2024-03-31', timespan='day', multiplier=1, limit=120) - Retrieved   
   daily OHLC bars for the requested date range.                                

📊 Performance Metrics:
   ⏱️  Response Time: 14.974s
   🔢  Tokens Used: 31,485 (Input: 30,532, Output: 953)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • TSLA price on 2024-12-13: Close 436.23 (Open 420.00, High 436.30, Low 415.71)

Tools Used:                                                                     

 • get_OHLC_bars_specific_date(ticker='TSLA', date='2024-12-13', adjusted=True) 
   - Retrieved specific date OHLC data for TSLA.                                

📊 Performance Metrics:
   ⏱️  Response Time: 7.820s
   🔢  Tokens Used: 35,758 (Input: 35,507, Output: 251)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY previous trading day close: 669.21                                       

Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Provided last    
   close from previous trading day data.                                        

📊 Performance Metrics:
   ⏱️  Response Time: 6.048s
   🔢  Tokens Used: 36,001 (Input: 35,921, Output: 80)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY MACD (daily, latest)                                                     
    • MACD: 6.18                                                                
    • Signal: 6.03                                                              
    • Histogram: 0.15                                                           

Tools Used:                                                                     

 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - Provided MACD indicators for trend and momentum.

📊 Performance Metrics:
   ⏱️  Response Time: 10.548s
   🔢  Tokens Used: 36,957 (Input: 36,754, Output: 203)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day SMA: 662.14                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=20, limit=10) - Provided     
   20-day SMA values.                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 13.238s
   🔢  Tokens Used: 37,987 (Input: 37,899, Output: 88)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day SMA: 648.72                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Provided     
   50-day SMA values.                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 7.260s
   🔢  Tokens Used: 38,749 (Input: 38,661, Output: 88)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day SMA: 601.73                                                      

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=10) - Provided    
   200-day SMA values.                                                          

📊 Performance Metrics:
   ⏱️  Response Time: 10.745s
   🔢  Tokens Used: 39,511 (Input: 39,423, Output: 88)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day EMA: 661.70                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=20, limit=10) - Provided     
   20-day EMA values.                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 6.805s
   🔢  Tokens Used: 40,280 (Input: 40,192, Output: 88)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day EMA: 648.95                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - Provided     
   50-day EMA values.                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 7.511s
   🔢  Tokens Used: 41,048 (Input: 40,960, Output: 88)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day EMA: 608.43                                                      

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=200, limit=10) - Provided    
   200-day EMA values.                                                          

📊 Performance Metrics:
   ⏱️  Response Time: 7.055s
   🔢  Tokens Used: 41,818 (Input: 41,730, Output: 88)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day SMA: 668.89                                                        

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=5, limit=10) - Provided 5-day
   SMA values.                                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 8.298s
   🔢  Tokens Used: 42,589 (Input: 42,501, Output: 88)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day SMA: 665.23                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=10, limit=10) - Provided     
   10-day SMA values.                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 5.833s
   🔢  Tokens Used: 43,337 (Input: 43,249, Output: 88)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day EMA: 668.72                                                        

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=5, limit=10) - Provided 5-day
   EMA values.                                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 8.010s
   🔢  Tokens Used: 44,083 (Input: 43,995, Output: 88)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day EMA: 666.22                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=10, limit=10) - Provided     
   10-day EMA values.                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 6.244s
   🔢  Tokens Used: 44,850 (Input: 44,762, Output: 88)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> Goodbye!
📊 CLI session cleaned up

=== END CLI REGRESSION TEST REPORT (Loop 1/1) ===
