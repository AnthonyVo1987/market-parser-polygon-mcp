=== CLI REGRESSION TEST REPORT (Loop 1/3) ===
Timestamp: Mon Oct  6 11:01:07 PDT 2025
Loop Number: 1/3
Total Tests: 27
Passed: 27
Failed: 0
Success Rate: 100%
Total Session Duration: 229.010s
Session Mode: PERSISTENT (single session)
Session Count Detected: 1
Loop Status: PASS

=== RESPONSE TIME ANALYSIS ===
Min Response Time: 3.648s
Max Response Time: 15.674s
Avg Response Time: 8.404s
Performance Rating: EXCELLENT

=== TEST RESULTS DETAIL ===
Test 1: Test_1_Market_Status_Query - PASS
  Response Time: 12.210s
Test 2: Test_2_Single_Stock_Snapshot_NVDA - PASS
  Response Time: 5.186s
Test 3: Test_3_Multi_Stock_Snapshot_SPY_QQQ_IWM - PASS
  Response Time: 12.011s
Test 4: Test_4_Closing_Price_Query_SPY - PASS
  Response Time: 5.832s
Test 5: Test_5_Weekly_Performance_Analysis_SPY - PASS
  Response Time: 15.674s
Test 6: Test_6_Support_Resistance_SPY - PASS
  Response Time: 3.648s
Test 7: Test_7_Technical_Analysis_SPY - PASS
  Response Time: 8.413s
Test 8: Test_8_SMA_Indicator_SPY - PASS
  Response Time: 5.154s
Test 9: Test_9_EMA_Indicator_NVDA - PASS
  Response Time: 7.143s
Test 10: Test_10_RSI_Indicator_SPY - PASS
  Response Time: 4.844s
Test 11: Test_11_MACD_Indicator_AAPL - PASS
  Response Time: 5.049s
Test 12: Test_12_Multi_Ticker_Quote_AAPL_MSFT_GOOGL - PASS
  Response Time: 14.451s
Test 13: Test_13_Options_Quote_SPY_Call - PASS
  Response Time: 7.564s
Test 14: Test_14_OHLC_Custom_Date_Range_AAPL - PASS
  Response Time: 7.743s
Test 15: Test_15_OHLC_Specific_Date_TSLA - PASS
  Response Time: 9.695s
Test 16: Test_16_OHLC_Previous_Close_SPY - PASS
  Response Time: 9.545s
Test 17: Test_17_SPY_MACD - PASS
  Response Time: 8.150s
Test 18: Test_18_SPY_SMA_20 - PASS
  Response Time: 6.078s
Test 19: Test_19_SPY_SMA_50 - PASS
  Response Time: 7.753s
Test 20: Test_20_SPY_SMA_200 - PASS
  Response Time: 6.237s
Test 21: Test_21_SPY_EMA_20 - PASS
  Response Time: 8.102s
Test 22: Test_22_SPY_EMA_50 - PASS
  Response Time: 8.035s
Test 23: Test_23_SPY_EMA_200 - PASS
  Response Time: 12.993s
Test 24: Test_24_SPY_SMA_5 - PASS
  Response Time: 11.373s
Test 25: Test_25_SPY_SMA_10 - PASS
  Response Time: 7.058s
Test 26: Test_26_SPY_EMA_5 - PASS
  Response Time: 5.960s
Test 27: Test_27_SPY_EMA_10 - PASS
  Response Time: 11.014s

=== FULL CLI OUTPUT ===
Welcome to the GPT-5 powered Market Analysis Agent. Type 'exit' to quit.
📊 CLI session 'cli_session' initialized for conversation memory
> 
✅ Query processed successfully!
Agent Response:


 • Market Status: Open                                                          
 • Server Time: 2025-10-06 13:57:20 (UTC-04:00)                                 
 • Exchanges: NASDAQ, NYSE, OTC - Open                                          

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_market_status_and_date_time() - Retrieve real-time market status and     
   server datetime per RULE #4                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 12.210s
   🔢  Tokens Used: 10,972 (Input: 10,683, Output: 289)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA: 185.57                                                                 
 • Change: -2.05 (-1.09%)                                                       
 • High: 188.46                                                                 
 • Low: 183.33                                                                  
 • Open: 188.46                                                                 
 • Previous Close: 187.62                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote(ticker='NVDA') - Single ticker request, used get_stock_quote 
   per RULE #1                                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 5.186s
   🔢  Tokens Used: 11,153 (Input: 11,042, Output: 111)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: 672.21, Change 3.00 (0.45%), High 672.32, Low 669.46, Open 670.64, Prev 
   Close 669.21                                                                 
 • QQQ: 608.69, Change 5.51 (0.91%), High 608.87, Low 605.28, Open 605.28, Prev 
   Close 603.18                                                                 
 • IWM: 247.84, Change 2.01 (0.82%), High 248.47, Low 246.06, Open 246.48, Prev 
   Close 245.83                                                                 

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['SPY','QQQ','IWM'], market_type='stocks') -   
   Multiple tickers requested; initial parallel quote attempt (data returned but
   placeholders zeros)                                                          
 • get_stock_quote(ticker='SPY') - Fallback after multi-ticker data issue       
 • get_stock_quote(ticker='QQQ') - Fallback after multi-ticker data issue       
 • get_stock_quote(ticker='IWM') - Fallback after multi-ticker data issue       

📊 Performance Metrics:
   ⏱️  Response Time: 12.011s
   🔢  Tokens Used: 14,757 (Input: 14,275, Output: 482)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY today closing price: not available yet (market not closed)               
 • Reference: Previous close = 669.21                                           

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Fallback to      
   provide last close data when today's close isn't finalized yet               

📊 Performance Metrics:
   ⏱️  Response Time: 5.832s
   🔢  Tokens Used: 14,330 (Input: 13,910, Output: 420)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY Weekly Price Change: $2.97 (0.45%)                                       

Notes:                                                                          

 • Current completed week close: 666.18                                         
 • Previous week close: 663.21                                                  

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-29',        
   to_date='2025-10-03', timespan='week', multiplier=1) - Retrieved current     
   completed week's weekly bar                                                  
 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-22',        
   to_date='2025-09-26', timespan='week', multiplier=1) - Retrieved previous    
   week's weekly bar                                                            

📊 Performance Metrics:
   ⏱️  Response Time: 15.674s
   🔢  Tokens Used: 24,052 (Input: 22,939, Output: 1,113)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • Support levels for SPY:                                                      
    • S1: 669.46                                                                
    • S2: 666.18                                                                
    • S3: 663.21                                                                
 • Resistance levels for SPY:                                                   
    • R1: 672.32                                                                
    • R2: 675.00 (psych level and potential tight area)                         
    • R3: 677.50 (_range upper near recent highs)                               

Notes:                                                                          

 • Current price around 672.21; near R1 resistance.                             
 • Recent intraday high ~672.32; next upside targets near 675–676.              

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_previous_close and get_OHLC_bars_custom_date_range (weekly     
   data) - To identify recent highs/lows and weekly closes for                  
   support/resistance context                                                   

📊 Performance Metrics:
   ⏱️  Response Time: 3.648s
   🔢  Tokens Used: 7,978 (Input: 7,550, Output: 428)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY TA (day)                                                                 
    • 50-day SMA: 648.73                                                        
    • 20-day EMA: 661.77                                                        
    • RSI(14): 71.57 (overbought)                                               
    • MACD: MACD 6.23, Signal 6.04, Histogram 0.19                              

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=5) - Calculate     
   50-day simple moving average                                                 
 • get_ta_ema(ticker='SPY', timespan='day', window=20, limit=5) - Calculate     
   20-day exponential moving average                                            
 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=5) - Calculate RSI 
 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=5) - Calculate MACD and signal/histogram              

📊 Performance Metrics:
   ⏱️  Response Time: 8.413s
   🔢  Tokens Used: 11,623 (Input: 10,920, Output: 703)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day SMA: 648.73                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Retrieve     
   50-day simple moving average data for SPY                                    

📊 Performance Metrics:
   ⏱️  Response Time: 5.154s
   🔢  Tokens Used: 18,358 (Input: 18,262, Output: 96)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA 20-day EMA: 181.04                                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='NVDA', timespan='day', window=20, limit=5) - Retrieve     
   20-day EMA for NVDA                                                          

📊 Performance Metrics:
   ⏱️  Response Time: 7.143s
   🔢  Tokens Used: 19,161 (Input: 19,001, Output: 160)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY RSI (14): 71.57 (overbought threshold 70)                                

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=5) - RSI indicator 
   for SPY                                                                      

📊 Performance Metrics:
   ⏱️  Response Time: 4.844s
   🔢  Tokens Used: 19,669 (Input: 19,570, Output: 99)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL MACD: MACD 7.18, Signal 7.01, Histogram 0.17                            

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_macd(ticker='AAPL', timespan='day', short_window=12, long_window=26,  
   signal_window=9, limit=5) - MACD indicator for AAPL                          

📊 Performance Metrics:
   ⏱️  Response Time: 5.049s
   🔢  Tokens Used: 20,452 (Input: 20,325, Output: 127)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL: 255.59, Change -2.43 (-0.94%), High 259.07, Low 255.05, Open 257.65,   
   Prev Close 258.02                                                            
 • MSFT: 528.62, Change 11.28 (2.18%), High 528.73, Low 518.16, Open 518.16,    
   Prev Close 517.35                                                            
 • GOOGL: 248.03, Change 2.68 (1.09%), High 249.56, Low 244.58, Open 245.66,    
   Prev Close 245.35                                                            

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['AAPL','MSFT','GOOGL'], market_type='stocks') 
   - Initial multi-ticker attempt for efficiency                                
 • Fallback to:                                                                 
    • get_stock_quote(ticker='AAPL') - Individual quote due to data gaps        
    • get_stock_quote(ticker='MSFT')                                            
    • get_stock_quote(ticker='GOOGL') - Individual quotes for remaining tickers 

📊 Performance Metrics:
   ⏱️  Response Time: 14.451s
   🔢  Tokens Used: 55,634 (Input: 55,232, Output: 402)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY Dec 25 2021? Wait: The contract is O:SPY251219C00650000                  
 • Breakeven: Not provided                                                      
 • Day: Open 35.96, High 36.96, Low 35.58, Close 36.93, Volume 113, VWAP 36.34  
 • Greeks: Delta 0.695, Gamma 0.00638, Theta -0.166, Vega 0.995                 
 • Implied Volatility: 18.39%                                                   
 • Open Interest: 21,482                                                        

Notes:                                                                          

 • Last two fields (last_quote/last_trade) not returned                         
 • Expiration appears to be Dec 19, 2025? The symbol suggests 251219 = Dec 19,  
   2025. The assistant formatted incorrectly earlier. The user contract given is
   O:SPY251219C00650000, which is Dec 19, 2025 call strike 650.                 

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_options_quote_single(underlying_asset='SPY',                             
   option_contract='O:SPY251219C00650000') - Retrieve single option quote and   
   Greeks for SPY Call                                                          

📊 Performance Metrics:
   ⏱️  Response Time: 7.564s
   🔢  Tokens Used: 23,555 (Input: 23,264, Output: 291)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL daily bars: 2024-01-01 to 2024-03-31                                    
 • Bars: 61                                                                     
 • First close (start): 185.64                                                  
 • Last close (end): 171.48                                                     

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='AAPL', from_date='2024-01-01',       
   to_date='2024-03-31', timespan='day', multiplier=1) - Retrieve daily OHLC    
   bars for the requested date range                                            

📊 Performance Metrics:
   ⏱️  Response Time: 7.743s
   🔢  Tokens Used: 28,936 (Input: 28,436, Output: 500)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • TSLA on 2024-12-13 (adjusted): Open 420.00, High 436.30, Low 415.71, Close   
   436.23, Volume 88,937,833                                                    

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_specific_date(ticker='TSLA', date='2024-12-13', adjusted=True) 
   - Retrieve exact OHLC for TSLA on the specified date                         

📊 Performance Metrics:
   ⏱️  Response Time: 9.695s
   🔢  Tokens Used: 33,412 (Input: 33,211, Output: 201)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY Previous Close: 669.21                                                   

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=true) - Retrieve last    
   traded close prior to today for SPY                                          

📊 Performance Metrics:
   ⏱️  Response Time: 9.545s
   🔢  Tokens Used: 33,903 (Input: 33,757, Output: 146)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY MACD: MACD 6.23, Signal 6.04, Histogram 0.19                             

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=5) - MACD indicator for SPY                           

📊 Performance Metrics:
   ⏱️  Response Time: 8.150s
   🔢  Tokens Used: 34,512 (Input: 34,384, Output: 128)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day SMA: 662.17                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=20, limit=5) - Retrieve      
   20-day SMA for SPY                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 6.078s
   🔢  Tokens Used: 35,188 (Input: 35,095, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day SMA: 648.73                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=5) - Retrieve      
   50-day SMA for SPY                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 7.753s
   🔢  Tokens Used: 35,740 (Input: 35,647, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day SMA: 601.74                                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=5) - Retrieve     
   200-day SMA for SPY                                                          

📊 Performance Metrics:
   ⏱️  Response Time: 6.237s
   🔢  Tokens Used: 36,292 (Input: 36,199, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day EMA: 661.75                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=20, limit=5) - Retrieve      
   20-day EMA for SPY                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 8.102s
   🔢  Tokens Used: 36,853 (Input: 36,760, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day EMA: 648.97                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=5) - Retrieve      
   50-day EMA for SPY                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 8.035s
   🔢  Tokens Used: 37,412 (Input: 37,319, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day EMA: 608.44                                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=200, limit=5) - Retrieve     
   200-day EMA for SPY                                                          

📊 Performance Metrics:
   ⏱️  Response Time: 12.993s
   🔢  Tokens Used: 37,971 (Input: 37,878, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day SMA: 668.98                                                        

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=5, limit=5) - Retrieve 5-day 
   SMA for SPY                                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 11.373s
   🔢  Tokens Used: 38,598 (Input: 38,439, Output: 159)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day SMA: 665.28                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=10, limit=5) - Retrieve      
   10-day SMA for SPY                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 7.058s
   🔢  Tokens Used: 39,082 (Input: 38,989, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day EMA: 668.87                                                        

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=5, limit=5) - Retrieve 5-day 
   EMA for SPY                                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 5.960s
   🔢  Tokens Used: 39,630 (Input: 39,537, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day EMA: 666.29                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=10, limit=5) - Retrieve      
   10-day EMA for SPY                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 11.014s
   🔢  Tokens Used: 40,189 (Input: 40,096, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> Goodbye!
📊 CLI session cleaned up

=== END CLI REGRESSION TEST REPORT (Loop 1/3) ===
