=== CLI REGRESSION TEST REPORT (Loop 2/3) ===
Timestamp: Sun Oct  5 17:40:00 PDT 2025
Loop Number: 2/3
Total Tests: 27
Passed: 27
Failed: 0
Success Rate: 100%
Total Session Duration: 236.606069335s
Session Mode: PERSISTENT (single session)
Session Count Detected: 1
Loop Status: PASS

=== RESPONSE TIME ANALYSIS ===
Min Response Time: 3.568s
Max Response Time: 24.620s
Avg Response Time: 9.06s
Performance Rating: EXCELLENT

=== TEST RESULTS DETAIL ===
Test 1: Test_1_Market_Status_Query - PASS
  Response Time: 4.813s
Test 2: Test_2_Single_Stock_Snapshot_NVDA - PASS
  Response Time: 3.697s
Test 3: Test_3_Multi_Stock_Snapshot_SPY_QQQ_IWM - PASS
  Response Time: 4.671s
Test 4: Test_4_Closing_Price_Query_SPY - PASS
  Response Time: 4.046s
Test 5: Test_5_Weekly_Performance_Analysis_SPY - PASS
  Response Time: 5.311s
Test 6: Test_6_Support_Resistance_SPY - PASS
  Response Time: 6.531s
Test 7: Test_7_Technical_Analysis_SPY - PASS
  Response Time: 6.784s
Test 8: Test_8_SMA_Indicator_SPY - PASS
  Response Time: 3.724s
Test 9: Test_9_EMA_Indicator_NVDA - PASS
  Response Time: 3.568s
Test 10: Test_10_RSI_Indicator_SPY - PASS
  Response Time: 5.054s
Test 11: Test_11_MACD_Indicator_AAPL - PASS
  Response Time: 4.842s
Test 12: Test_12_Multi_Ticker_Quote_AAPL_MSFT_GOOGL - PASS
  Response Time: 15.343s
Test 13: Test_13_Options_Quote_SPY_Call - PASS
  Response Time: 5.015s
Test 14: Test_14_OHLC_Custom_Date_Range_AAPL - PASS
  Response Time: 7.797s
Test 15: Test_15_OHLC_Specific_Date_TSLA - PASS
  Response Time: 5.937s
Test 16: Test_16_OHLC_Previous_Close_SPY - PASS
  Response Time: 18.420s
Test 17: Test_17_SPY_MACD - PASS
  Response Time: 11.406s
Test 18: Test_18_SPY_SMA_20 - PASS
  Response Time: 12.091s
Test 19: Test_19_SPY_SMA_50 - PASS
  Response Time: 11.239s
Test 20: Test_20_SPY_SMA_200 - PASS
  Response Time: 14.366s
Test 21: Test_21_SPY_EMA_20 - PASS
  Response Time: 5.868s
Test 22: Test_22_SPY_EMA_50 - PASS
  Response Time: 17.474s
Test 23: Test_23_SPY_EMA_200 - PASS
  Response Time: 13.195s
Test 24: Test_24_SPY_SMA_5 - PASS
  Response Time: 11.795s
Test 25: Test_25_SPY_SMA_10 - PASS
  Response Time: 6.601s
Test 26: Test_26_SPY_EMA_5 - PASS
  Response Time: 24.620s
Test 27: Test_27_SPY_EMA_10 - PASS
  Response Time: 10.617s

=== FULL CLI OUTPUT ===
Welcome to the GPT-5 powered Market Analysis Agent. Type 'exit' to quit.
📊 CLI session 'cli_session' initialized for conversation memory
> 
✅ Query processed successfully!
Agent Response:


 • Market Status: Closed                                                        
 • Date: 2025-10-05                                                             
 • Time: 20:36:05 (server time, UTC-04:00)                                      
 • After hours: No                                                              
 • Exchanges: NASDAQ - closed, NYSE - closed, OTC - closed                      

Tools Used:                                                                     

 • get_market_status_and_date_time() - Provide real-time market status and      
   server datetime per RULE #4                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 4.813s
   🔢  Tokens Used: 10,878 (Input: 10,641, Output: 237)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA: 187.62 USD                                                             
 • Change: -1.27 (-0.67%)                                                       
 • Day high/low: 190.36 / 185.38                                                
 • Open: 189.19                                                                 
 • Previous close: 188.89                                                       

Tools Used:                                                                     

 • get_stock_quote(ticker='NVDA') - Single ticker request, used for real-time   
   snapshot data per RULE #1                                                    

📊 Performance Metrics:
   ⏱️  Response Time: 3.697s
   🔢  Tokens Used: 11,167 (Input: 11,058, Output: 109)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: 0.00 USD | Change 0.00 (0.00%)                                          
 • QQQ: 0.00 USD | Change 0.00 (0.00%)                                          
 • IWM: 0.00 USD | Change 0.00 (0.00%)                                          

Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['SPY','QQQ','IWM'], market_type='stocks') -   
   Multiple tickers, used for snapshot data across tickers per RULE #2          

📊 Performance Metrics:
   ⏱️  Response Time: 4.671s
   🔢  Tokens Used: 12,215 (Input: 11,880, Output: 335)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY closing price (previous close): 669.21 USD                               

Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Use previous     
   trading day close since market is closed today.                              

📊 Performance Metrics:
   ⏱️  Response Time: 4.046s
   🔢  Tokens Used: 12,940 (Input: 12,792, Output: 148)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY weekly price change: $4.85                                               
 • Weekly change: 0.73%                                                         

Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-29',        
   to_date='2025-10-05', timespan='week', multiplier=1) - Retrieved weekly      
   open/close to compute weekly change.                                         

📊 Performance Metrics:
   ⏱️  Response Time: 5.311s
   🔢  Tokens Used: 13,965 (Input: 13,497, Output: 468)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY support: ~648.00 - 650.00 (SMA50 zone)                                   
 • SPY resistance: ~672.68 (recent weekly high) and around 680 nearby           

Notes:                                                                          

 • Price current: 669.21 (context)                                              
 • 50-day SMA ≈ 648.03                                                          
 • 200-day SMA ≈ 601.41                                                         

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=5) - Provided      
   50-day SMA as a dynamic support region                                       
 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=5) - Provided     
   200-day SMA as a broader trend reference                                     

📊 Performance Metrics:
   ⏱️  Response Time: 6.531s
   🔢  Tokens Used: 11,532 (Input: 10,904, Output: 628)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:

Technical Analysis: SPY                                                         

 • SMA(50): ~648.03                                                             
 • EMA(50): ~648.04                                                             
 • SMA(200): ~601.41                                                            
 • RSI(14): ~69.0 (near overbought)                                             
 • MACD(12,26,9): positive; MACD ≈ 6.05, Signal ≈ 5.99, Histogram ≈ 0.06        
   (bullish but diminishing momentum)                                           

Interpretation:                                                                 

 • Uptrend indicated by positive MACD and price above key SMAs/EMA.             
 • RSI near overbought, potential pullback risk if momentum wanes.              

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - to assess    
   near-term support level in relation to price                                 
 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - confirms     
   trend with EMA                                                               
 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - gauge        
   momentum/overbought                                                          
 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - trend momentum and signals                      

📊 Performance Metrics:
   ⏱️  Response Time: 6.784s
   🔢  Tokens Used: 11,636 (Input: 11,006, Output: 630)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY SMA(50): 648.03                                                          

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Retrieve     
   50-day simple moving average for SPY to assess support/trend.                

📊 Performance Metrics:
   ⏱️  Response Time: 3.724s
   🔢  Tokens Used: 19,081 (Input: 18,918, Output: 163)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA 20-day EMA: 180.54                                                      

Tools Used:                                                                     

 • get_ta_ema(ticker='NVDA', timespan='day', window=20, limit=10) - Retrieve    
   20-day EMA for NVDA.                                                         

📊 Performance Metrics:
   ⏱️  Response Time: 3.568s
   🔢  Tokens Used: 19,834 (Input: 19,678, Output: 156)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY RSI(14): 69.00 (near overbought)                                         

Tools Used:                                                                     

 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - RSI indicator
   for SPY to assess momentum and overbought/oversold conditions                

📊 Performance Metrics:
   ⏱️  Response Time: 5.054s
   🔢  Tokens Used: 20,694 (Input: 20,527, Output: 167)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL MACD: MACD 7.41, Signal 6.97, Histogram 0.44 (bullish)                  

Tools Used:                                                                     

 • get_ta_macd(ticker='AAPL', timespan='day', short_window=12, long_window=26,  
   signal_window=9, limit=10) - Provide MACD components for trend and momentum  
   analysis                                                                     

📊 Performance Metrics:
   ⏱️  Response Time: 4.842s
   🔢  Tokens Used: 21,686 (Input: 21,557, Output: 129)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL: 0.00 USD | Change 0.00 (0.00%)                                         
 • MSFT: 0.00 USD | Change 0.00 (0.00%)                                         
 • GOOGL: 0.00 USD | Change 0.00 (0.00%)                                        

Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['AAPL','MSFT','GOOGL'], market_type='stocks') 
   - Multiple tickers, used for snapshot data across tickers per RULE #2        

📊 Performance Metrics:
   ⏱️  Response Time: 15.343s
   🔢  Tokens Used: 23,081 (Input: 22,871, Output: 210)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:

Options quote for SPY O:SPY251219C00650000                                      

 • Contract: O:SPY251219C00650000                                               
 • Underlying: SPY                                                              
 • Break-even: N/A                                                              
 • Day: Open 35.76, High 37.67, Low 34.60, Close 34.90, Volume 247, VWAP 36.57  
 • Greeks: Delta 0.679, Gamma 0.0066, Theta -0.165, Vega 1.143                  
 • Implied Volatility: 18.12%                                                   
 • Open Interest: 21,568                                                        

Note: Last price data not provided in response; use last_trade/last_quote fields
if needed.                                                                      

Tools Used:                                                                     

 • get_options_quote_single(underlying_asset='SPY',                             
   option_contract='O:SPY251219C00650000') - Retrieve single options contract   
   quote and Greeks per RULE #3                                                 

📊 Performance Metrics:
   ⏱️  Response Time: 5.015s
   🔢  Tokens Used: 24,076 (Input: 23,841, Output: 235)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:

AAPL daily bars: 2024-01-01 to 2024-03-31                                       

 • Start open (2024-01-01): 187.15                                              
 • End close (2024-03-31): 171.48                                               
 • High over period: 195.75                                                     
 • Low over period: 169.45                                                      
 • Bars: 61                                                                     

Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='AAPL', from_date='2024-01-01',       
   to_date='2024-03-31', timespan='day', multiplier=1) - Retrieve daily OHLC    
   bars for the date range.                                                     

📊 Performance Metrics:
   ⏱️  Response Time: 7.797s
   🔢  Tokens Used: 29,577 (Input: 28,922, Output: 655)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • TSLA price (2024-12-13, adjusted):                                           
    • Open: 420.00                                                              
    • High: 436.30                                                              
    • Low: 415.71                                                               
    • Close: 436.23                                                             
    • Volume: 88,937,833                                                        

Tools Used:                                                                     

 • get_OHLC_bars_specific_date(ticker='TSLA', date='2024-12-13', adjusted=True) 
   - Retrieve specific date OHLC data, adjusted for splits/dividends per RULE #5

📊 Performance Metrics:
   ⏱️  Response Time: 5.937s
   🔢  Tokens Used: 34,127 (Input: 33,844, Output: 283)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY previous close: 669.21 USD                                               

Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Provide last     
   completed trading day's close.                                               

📊 Performance Metrics:
   ⏱️  Response Time: 18.420s
   🔢  Tokens Used: 34,476 (Input: 34,335, Output: 141)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY MACD (daily, last): MACD 6.05, Signal 5.99, Histogram 0.06 (bullish)     

Tools Used:                                                                     

 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - Latest MACD values for trend/momentum analysis. 

📊 Performance Metrics:
   ⏱️  Response Time: 11.406s
   🔢  Tokens Used: 35,333 (Input: 35,135, Output: 198)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day SMA: 661.01                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=20, limit=10) - Retrieve     
   20-day SMA for trend/support context.                                        

📊 Performance Metrics:
   ⏱️  Response Time: 12.091s
   🔢  Tokens Used: 36,362 (Input: 36,271, Output: 91)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day SMA: 648.03                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Retrieve     
   50-day SMA for trend/support context.                                        

📊 Performance Metrics:
   ⏱️  Response Time: 11.239s
   🔢  Tokens Used: 37,132 (Input: 37,039, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day SMA: 601.41                                                      

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=10) - Retrieve    
   200-day SMA for long-term trend context.                                     

📊 Performance Metrics:
   ⏱️  Response Time: 14.366s
   🔢  Tokens Used: 37,899 (Input: 37,807, Output: 92)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day EMA: 660.68                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=20, limit=10) - Retrieve     
   20-day EMA for short-term trend context.                                     

📊 Performance Metrics:
   ⏱️  Response Time: 5.868s
   🔢  Tokens Used: 38,678 (Input: 38,584, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day EMA: 648.04                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - Retrieve     
   50-day EMA for longer-term trend context.                                    

📊 Performance Metrics:
   ⏱️  Response Time: 17.474s
   🔢  Tokens Used: 39,491 (Input: 39,397, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day EMA: 607.80                                                      

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=200, limit=10) - Retrieve    
   200-day EMA for long-term trend context.                                     

📊 Performance Metrics:
   ⏱️  Response Time: 13.195s
   🔢  Tokens Used: 40,232 (Input: 40,138, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day SMA: 667.35                                                        

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=5, limit=10) - Retrieve 5-day
   SMA for short-term trend.                                                    

📊 Performance Metrics:
   ⏱️  Response Time: 11.795s
   🔢  Tokens Used: 41,008 (Input: 40,917, Output: 91)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day SMA: 664.78                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=10, limit=10) - Retrieve     
   10-day SMA for short-term trend.                                             

📊 Performance Metrics:
   ⏱️  Response Time: 6.601s
   🔢  Tokens Used: 41,766 (Input: 41,675, Output: 91)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day EMA: 667.38                                                        

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=5, limit=10) - Retrieve 5-day
   EMA for short-term trend.                                                    

📊 Performance Metrics:
   ⏱️  Response Time: 24.620s
   🔢  Tokens Used: 42,525 (Input: 42,431, Output: 94)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day EMA: 665.05                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=10, limit=10) - Retrieve     
   10-day EMA for short-term trend.                                             

📊 Performance Metrics:
   ⏱️  Response Time: 10.617s
   🔢  Tokens Used: 43,298 (Input: 43,207, Output: 91)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> Goodbye!
📊 CLI session cleaned up

=== END CLI REGRESSION TEST REPORT (Loop 2/3) ===
