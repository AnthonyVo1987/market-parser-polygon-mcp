=== CLI REGRESSION TEST REPORT (Loop 2/3) ===
Timestamp: Mon Oct  6 11:04:39 PDT 2025
Loop Number: 2/3
Total Tests: 27
Passed: 27
Failed: 0
Success Rate: 100%
Total Session Duration: 208.689s
Session Mode: PERSISTENT (single session)
Session Count Detected: 1
Loop Status: PASS

=== RESPONSE TIME ANALYSIS ===
Min Response Time: 2.429s
Max Response Time: 13.659s
Avg Response Time: 7.646s
Performance Rating: EXCELLENT

=== TEST RESULTS DETAIL ===
Test 1: Test_1_Market_Status_Query - PASS
  Response Time: 4.939s
Test 2: Test_2_Single_Stock_Snapshot_NVDA - PASS
  Response Time: 5.736s
Test 3: Test_3_Multi_Stock_Snapshot_SPY_QQQ_IWM - PASS
  Response Time: 12.896s
Test 4: Test_4_Closing_Price_Query_SPY - PASS
  Response Time: 5.683s
Test 5: Test_5_Weekly_Performance_Analysis_SPY - PASS
  Response Time: 13.659s
Test 6: Test_6_Support_Resistance_SPY - PASS
  Response Time: 4.839s
Test 7: Test_7_Technical_Analysis_SPY - PASS
  Response Time: 10.386s
Test 8: Test_8_SMA_Indicator_SPY - PASS
  Response Time: 3.680s
Test 9: Test_9_EMA_Indicator_NVDA - PASS
  Response Time: 6.201s
Test 10: Test_10_RSI_Indicator_SPY - PASS
  Response Time: 6.922s
Test 11: Test_11_MACD_Indicator_AAPL - PASS
  Response Time: 8.035s
Test 12: Test_12_Multi_Ticker_Quote_AAPL_MSFT_GOOGL - PASS
  Response Time: 10.920s
Test 13: Test_13_Options_Quote_SPY_Call - PASS
  Response Time: 5.555s
Test 14: Test_14_OHLC_Custom_Date_Range_AAPL - PASS
  Response Time: 8.618s
Test 15: Test_15_OHLC_Specific_Date_TSLA - PASS
  Response Time: 6.265s
Test 16: Test_16_OHLC_Previous_Close_SPY - PASS
  Response Time: 2.429s
Test 17: Test_17_SPY_MACD - PASS
  Response Time: 6.448s
Test 18: Test_18_SPY_SMA_20 - PASS
  Response Time: 7.018s
Test 19: Test_19_SPY_SMA_50 - PASS
  Response Time: 9.562s
Test 20: Test_20_SPY_SMA_200 - PASS
  Response Time: 5.674s
Test 21: Test_21_SPY_EMA_20 - PASS
  Response Time: 7.715s
Test 22: Test_22_SPY_EMA_50 - PASS
  Response Time: 6.702s
Test 23: Test_23_SPY_EMA_200 - PASS
  Response Time: 11.811s
Test 24: Test_24_SPY_SMA_5 - PASS
  Response Time: 13.218s
Test 25: Test_25_SPY_SMA_10 - PASS
  Response Time: 7.374s
Test 26: Test_26_SPY_EMA_5 - PASS
  Response Time: 7.448s
Test 27: Test_27_SPY_EMA_10 - PASS
  Response Time: 6.701s

=== FULL CLI OUTPUT ===
Welcome to the GPT-5 powered Market Analysis Agent. Type 'exit' to quit.
📊 CLI session 'cli_session' initialized for conversation memory
> 
✅ Query processed successfully!
Agent Response:


 • Market Status: Open                                                          
 • Server Time (ET): 2025-10-06 14:01:11                                        
 • After Hours: No                                                              
 • Early Hours: No                                                              
 • Exchanges: NASDAQ open, NYSE open, OTC open                                  

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_market_status_and_date_time() - Provide real-time market status and      
   server datetime for current trading day.                                     

📊 Performance Metrics:
   ⏱️  Response Time: 4.939s
   🔢  Tokens Used: 10,865 (Input: 10,630, Output: 235)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA: 185.79 USD                                                             
 • Change: -1.83 (-0.98%)                                                       
 • High / Low: 188.46 / 183.33                                                  
 • Open / Prev Close: 188.46 / 187.62                                           

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote(ticker='NVDA') - Single ticker request, used Finnhub         
   real-time quote for NVDA.                                                    

📊 Performance Metrics:
   ⏱️  Response Time: 5.736s
   🔢  Tokens Used: 11,176 (Input: 11,064, Output: 112)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: 0.00 USD, Change 0.00 (0.00%), High 0.00, Low 0.00, Open 0.00           
 • QQQ: 0.00 USD, Change 0.00 (0.00%), High 0.00, Low 0.00, Open 0.00           
 • IWM: 0.00 USD, Change 0.00 (0.00%), High 0.00, Low 0.00, Open 0.00           

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['SPY','QQQ','IWM'], market_type='stocks') -   
   Multiple tickers, used for snapshot data across SPY, QQQ, and IWM.           

📊 Performance Metrics:
   ⏱️  Response Time: 12.896s
   🔢  Tokens Used: 12,411 (Input: 11,885, Output: 526)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY close (previous trading day): 669.21 USD                                 

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Retrieved        
   previous trading day's close for SPY.                                        

📊 Performance Metrics:
   ⏱️  Response Time: 5.683s
   🔢  Tokens Used: 13,326 (Input: 13,048, Output: 278)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY weekly change: +8.25 USD (+1.24%)                                        
 • Period: 2025-09-29 close 663.68 → 2025-10-06 close 671.93                    

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-29',        
   to_date='2025-10-06', timespan='day', multiplier=1) - Retrieved last 7 daily 
   bars to compute weekly change.                                               

📊 Performance Metrics:
   ⏱️  Response Time: 13.659s
   🔢  Tokens Used: 23,202 (Input: 21,907, Output: 1,295)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY support: 669.46, 668.16                                                  
 • SPY resistance: 672.68, 674–676 (psych level around 675)                     

Notes:                                                                          

 • Based on recent daily bars (highs/lows and closes) for SPY.                  

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-29',        
   to_date='2025-10-06', timespan='day', multiplier=1) - Provided recent daily  
   highs/lows/ closes to infer support and resistance.                          

📊 Performance Metrics:
   ⏱️  Response Time: 4.839s
   🔢  Tokens Used: 8,031 (Input: 7,454, Output: 577)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY Technical Analysis (daily)                                               
    • 50-day SMA: 648.73                                                        
    • 20-day EMA: 661.75                                                        
    • RSI (14): 71.54 (overbought)                                              
    • MACD: 6.22 (signal 6.04), histogram 0.19                                  

Notes:                                                                          

 • RSI suggests overbought territory; MACD shows bullish momentum with a        
   positive histogram.                                                          

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Long-term    
   trend base                                                                   
 • get_ta_ema(ticker='SPY', timespan='day', window=20, limit=10) - Shorter-term 
   momentum                                                                     
 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - Momentum     
   strength                                                                     
 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - Trend/momentum crossover signals                

📊 Performance Metrics:
   ⏱️  Response Time: 10.386s
   🔢  Tokens Used: 11,927 (Input: 11,277, Output: 650)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • 50-day SMA (SPY): 648.73                                                     

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Retrieved    
   50-day simple moving average.                                                

📊 Performance Metrics:
   ⏱️  Response Time: 3.680s
   🔢  Tokens Used: 9,541 (Input: 9,416, Output: 125)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA 20-day EMA: 181.01                                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='NVDA', timespan='day', window=20, limit=10) - Retrieved   
   20-day exponential moving average for NVDA.                                  

📊 Performance Metrics:
   ⏱️  Response Time: 6.201s
   🔢  Tokens Used: 19,453 (Input: 19,355, Output: 98)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY RSI (14, daily): 71.53 (overbought)                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - Requested RSI
   14-day for SPY.                                                              

📊 Performance Metrics:
   ⏱️  Response Time: 6.922s
   🔢  Tokens Used: 20,349 (Input: 20,184, Output: 165)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL MACD (daily): MACD 7.15, Signal 7.00, Histogram 0.15                    

Notes: Bullish momentum with positive histogram.                                

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_macd(ticker='AAPL', timespan='day', short_window=12, long_window=26,  
   signal_window=9, limit=10) - Retrieved daily MACD values.                    

📊 Performance Metrics:
   ⏱️  Response Time: 8.035s
   🔢  Tokens Used: 21,413 (Input: 21,211, Output: 202)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL: 0.00 USD, Change 0.00 (0.00%), High 0.00, Low 0.00, Open 0.00          
 • MSFT: 0.00 USD, Change 0.00 (0.00%), High 0.00, Low 0.00, Open 0.00          
 • GOOGL: 0.00 USD, Change 0.00 (0.00%), High 0.00, Low 0.00, Open 0.00         

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['AAPL','MSFT','GOOGL'], market_type='stocks') 
   - Multiple tickers, retrieved snapshot data for AAPL, MSFT, and GOOGL.       

📊 Performance Metrics:
   ⏱️  Response Time: 10.920s
   🔢  Tokens Used: 22,925 (Input: 22,588, Output: 337)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY Dec 650 Call (O:SPY251219C00650000)                                      
    • Last price: 36.93                                                         
    • Open: 35.96, High: 36.96, Low: 35.58                                      
    • Implied Volatility: 18.36%                                                
    • Delta: 0.695                                                              
    • Gamma: 0.00638, Theta: -0.165, Vega: 0.994                                
    • Open Interest: 21,482                                                     
    • Break-even price: not provided                                            

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_options_quote_single(underlying_asset='SPY',                             
   option_contract='O:SPY251219C00650000') - Retrieved option data for the      
   specified SPY contract.                                                      

📊 Performance Metrics:
   ⏱️  Response Time: 5.555s
   🔢  Tokens Used: 23,986 (Input: 23,717, Output: 269)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL daily bars: 61 bars between 2024-01-01 and 2024-03-31                   
 • Start close (2024-01-01): 185.64                                             
 • End close (last bar in range): 171.48                                        

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='AAPL', from_date='2024-01-01',       
   to_date='2024-03-31', timespan='day', multiplier=1) - Retrieved daily OHLC   
   data for the requested period.                                               

📊 Performance Metrics:
   ⏱️  Response Time: 8.618s
   🔢  Tokens Used: 29,406 (Input: 28,707, Output: 699)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • TSLA 2024-12-13 (adjusted): Open 420.00, High 436.30, Low 415.71, Close      
   436.23                                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_specific_date(ticker='TSLA', date='2024-12-13', adjusted=True) 
   - Retrieved TSLA price data for the specific date.                           

📊 Performance Metrics:
   ⏱️  Response Time: 6.265s
   🔢  Tokens Used: 33,694 (Input: 33,502, Output: 192)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY previous close: 669.21 USD                                               

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Retrieved last   
   completed trading day's close.                                               

📊 Performance Metrics:
   ⏱️  Response Time: 2.429s
   🔢  Tokens Used: 17,002 (Input: 16,887, Output: 115)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY MACD (daily latest)                                                      
    • MACD: 6.23                                                                
    • Signal: 6.04                                                              
    • Histogram: 0.19                                                           

Notes: bullish momentum with positive histogram.                                

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - Retrieved daily MACD values.                    

📊 Performance Metrics:
   ⏱️  Response Time: 6.448s
   🔢  Tokens Used: 34,721 (Input: 34,510, Output: 211)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day SMA: 662.17                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=20, limit=10) - Retrieved    
   20-day simple moving average.                                                

📊 Performance Metrics:
   ⏱️  Response Time: 7.018s
   🔢  Tokens Used: 35,830 (Input: 35,671, Output: 159)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day SMA: 648.73                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Retrieved    
   50-day simple moving average.                                                

📊 Performance Metrics:
   ⏱️  Response Time: 9.562s
   🔢  Tokens Used: 36,535 (Input: 36,442, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day SMA: 601.74                                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=10) - Retrieved   
   200-day simple moving average.                                               

📊 Performance Metrics:
   ⏱️  Response Time: 5.674s
   🔢  Tokens Used: 37,306 (Input: 37,213, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day EMA: 661.76                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=20, limit=10) - Retrieved    
   20-day exponential moving average.                                           

📊 Performance Metrics:
   ⏱️  Response Time: 7.715s
   🔢  Tokens Used: 38,085 (Input: 37,992, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day EMA: 648.98                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - Retrieved    
   50-day exponential moving average.                                           

📊 Performance Metrics:
   ⏱️  Response Time: 6.702s
   🔢  Tokens Used: 38,863 (Input: 38,770, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day EMA: 608.44                                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=200, limit=10) - Retrieved   
   200-day exponential moving average.                                          

📊 Performance Metrics:
   ⏱️  Response Time: 11.811s
   🔢  Tokens Used: 39,643 (Input: 39,550, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day SMA: 669.02                                                        

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=5, limit=10) - Retrieved     
   5-day simple moving average.                                                 

📊 Performance Metrics:
   ⏱️  Response Time: 13.218s
   🔢  Tokens Used: 40,474 (Input: 40,379, Output: 95)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day SMA: 665.30                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=10, limit=10) - Retrieved    
   10-day simple moving average.                                                

📊 Performance Metrics:
   ⏱️  Response Time: 7.374s
   🔢  Tokens Used: 41,182 (Input: 41,089, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day EMA: 668.94                                                        

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=5, limit=10) - Retrieved     
   5-day exponential moving average.                                            

📊 Performance Metrics:
   ⏱️  Response Time: 7.448s
   🔢  Tokens Used: 41,938 (Input: 41,845, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day EMA: 666.33                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=10, limit=10) - Retrieved    
   10-day exponential moving average.                                           

📊 Performance Metrics:
   ⏱️  Response Time: 6.701s
   🔢  Tokens Used: 42,716 (Input: 42,623, Output: 93)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> Goodbye!
📊 CLI session cleaned up

=== END CLI REGRESSION TEST REPORT (Loop 2/3) ===
