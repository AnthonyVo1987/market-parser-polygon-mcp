=== CLI REGRESSION TEST REPORT (Loop 2/3) ===
Timestamp: Mon Oct  6 11:18:08 PDT 2025
Loop Number: 2/3
Total Tests: 27
Passed: 27
Failed: 0
Success Rate: 100%
Total Session Duration: 4 min 4 sec
Session Mode: PERSISTENT (single session)
Session Count Detected: 1
Loop Status: PASS

=== RESPONSE TIME ANALYSIS ===
Min Response Time: 4.610s
Max Response Time: 17.467s
Avg Response Time: 8.97s
Performance Rating: EXCELLENT

=== TEST RESULTS DETAIL ===
Test 1: Test_1_Market_Status_Query - PASS
  Response Time: 7.727s
Test 2: Test_2_Single_Stock_Snapshot_NVDA - PASS
  Response Time: 4.733s
Test 3: Test_3_Multi_Stock_Snapshot_SPY_QQQ_IWM - PASS
  Response Time: 5.755s
Test 4: Test_4_Closing_Price_Query_SPY - PASS
  Response Time: 8.383s
Test 5: Test_5_Weekly_Performance_Analysis_SPY - PASS
  Response Time: 6.654s
Test 6: Test_6_Support_Resistance_SPY - PASS
  Response Time: 8.182s
Test 7: Test_7_Technical_Analysis_SPY - PASS
  Response Time: 8.142s
Test 8: Test_8_SMA_Indicator_SPY - PASS
  Response Time: 7.150s
Test 9: Test_9_EMA_Indicator_NVDA - PASS
  Response Time: 5.129s
Test 10: Test_10_RSI_Indicator_SPY - PASS
  Response Time: 6.079s
Test 11: Test_11_MACD_Indicator_AAPL - PASS
  Response Time: 8.861s
Test 12: Test_12_Multi_Ticker_Quote_AAPL_MSFT_GOOGL - PASS
  Response Time: 16.796s
Test 13: Test_13_Options_Quote_SPY_Call - PASS
  Response Time: 5.524s
Test 14: Test_14_OHLC_Custom_Date_Range_AAPL - PASS
  Response Time: 16.958s
Test 15: Test_15_OHLC_Specific_Date_TSLA - PASS
  Response Time: 6.033s
Test 16: Test_16_OHLC_Previous_Close_SPY - PASS
  Response Time: 6.666s
Test 17: Test_17_SPY_MACD - PASS
  Response Time: 4.610s
Test 18: Test_18_SPY_SMA_20 - PASS
  Response Time: 7.425s
Test 19: Test_19_SPY_SMA_50 - PASS
  Response Time: 6.630s
Test 20: Test_20_SPY_SMA_200 - PASS
  Response Time: 7.083s
Test 21: Test_21_SPY_EMA_20 - PASS
  Response Time: 5.769s
Test 22: Test_22_SPY_EMA_50 - PASS
  Response Time: 17.467s
Test 23: Test_23_SPY_EMA_200 - PASS
  Response Time: 10.209s
Test 24: Test_24_SPY_SMA_5 - PASS
  Response Time: 11.298s
Test 25: Test_25_SPY_SMA_10 - PASS
  Response Time: 16.965s
Test 26: Test_26_SPY_EMA_5 - PASS
  Response Time: 10.157s
Test 27: Test_27_SPY_EMA_10 - PASS
  Response Time: 15.929s

=== FULL CLI OUTPUT ===
Welcome to the GPT-5 powered Market Analysis Agent. Type 'exit' to quit.
📊 CLI session 'cli_session' initialized for conversation memory
> 
✅ Query processed successfully!
Agent Response:


 • Market Status: Open                                                          
 • Exchanges: Nasdaq open, NYSE open, OTC open                                  
 • Server Time: 2025-10-06 14:14:08 (ET)                                        

Tools Used:                                                                     

 • get_market_status_and_date_time() - To fetch real-time market status and     
   current server datetime.                                                     

📊 Performance Metrics:
   ⏱️  Response Time: 7.727s
   🔢  Tokens Used: 10,922 (Input: 10,705, Output: 217)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA: Current price 185.57, Change -2.05 (-1.09%), High 188.46, Low 183.33,  
   Open 188.46, Previous close 187.62                                           

Tools Used:                                                                     

 • get_stock_quote(ticker='NVDA') - Single ticker request, used for real-time   
   quote data per RULE #1                                                       

📊 Performance Metrics:
   ⏱️  Response Time: 4.733s
   🔢  Tokens Used: 11,432 (Input: 11,138, Output: 294)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: Price 0.00, Change 0.00% (High 0.00, Low 0.00, Open 0.00)               
 • QQQ: Price 0.00, Change 0.00% (High 0.00, Low 0.00, Open 0.00)               
 • IWM: Price 0.00, Change 0.00% (High 0.00, Low 0.00, Open 0.00)               

Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['SPY','QQQ','IWM'], market_type='stocks') -   
   Multiple tickers, used for snapshot data per RULE #2; data returned as       
   snapshot with all fields.                                                    

📊 Performance Metrics:
   ⏱️  Response Time: 5.755s
   🔢  Tokens Used: 12,297 (Input: 11,847, Output: 450)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY closing price today (latest available): 672.28                           
 • Note: Today’s close not final until market close; previous close: 669.21     
 • Change: 3.07 (0.46%)                                                         
 • High: 672.47, Low: 669.46, Open: 670.64                                      

Tools Used:                                                                     

 • get_stock_quote(ticker='SPY') - Single ticker request, used for real-time    
   quote data per RULE #1                                                       

📊 Performance Metrics:
   ⏱️  Response Time: 8.383s
   🔢  Tokens Used: 13,245 (Input: 12,930, Output: 315)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY Weekly price change: $3.10, +0.46% (from 669.21 to 672.31)               

Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-29',        
   to_date='2025-10-06', timespan='week', multiplier=1) - Weekly OHLC data to   
   compute the weekly change                                                    

📊 Performance Metrics:
   ⏱️  Response Time: 6.654s
   🔢  Tokens Used: 14,387 (Input: 13,720, Output: 667)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY supports: 669.21, 664.36, 661.61                                         
 • SPY resistances: 672.68, ~676–677                                            
 • RSI (14): 71.86 (overbought vicinity)                                        
 • 50-day SMA (approx): 648.74                                                  
 • 200-day SMA (approx): 601.74                                                 

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Provide trend
   context with shorter SMA                                                     
 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=10) - Provide     
   longer-term trend context                                                    
 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) -              
   Momentum/overbought context                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 8.182s
   🔢  Tokens Used: 11,426 (Input: 10,488, Output: 938)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY Technicals:                                                              
    • MACD: 6.25, Signal 6.04, Histogram 0.21 (bullish ongoing)                 
    • EMA(50): ~649.0 (price currently above EMA50, bullish signal)             
    • RSI(14): ~71.9 (overbought zone)                                          
 • Key levels:                                                                  
    • Supports: around 669.21, 664.36                                           
    • Resistance: around 672.68, ~676–677                                       

Tools Used:                                                                     

 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - Provide MACD momentum and signaling             
 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - Provide      
   longer-term moving average context                                           
 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - Provide      
   momentum/overbought context                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 8.142s
   🔢  Tokens Used: 13,998 (Input: 13,296, Output: 702)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY SMA(50): ~648.74                                                         
 • SPY SMA(200): ~601.74                                                        

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Provide      
   50-day SMA context                                                           
 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=10) - Provide     
   200-day SMA context                                                          

📊 Performance Metrics:
   ⏱️  Response Time: 7.150s
   🔢  Tokens Used: 14,949 (Input: 14,640, Output: 309)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA 20-day EMA: 181.04                                                      

Tools Used:                                                                     

 • get_ta_ema(ticker='NVDA', timespan='day', window=20, limit=10) - Provide     
   20-day EMA context for NVDA                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 5.129s
   🔢  Tokens Used: 20,478 (Input: 20,322, Output: 156)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY RSI (14): 71.84 (overbought zone)                                        

Tools Used:                                                                     

 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - RSI context  
   and levels                                                                   

📊 Performance Metrics:
   ⏱️  Response Time: 6.079s
   🔢  Tokens Used: 21,248 (Input: 21,093, Output: 155)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL MACD: MACD 7.13, Signal 7.00, Histogram 0.13 (bullish)                  

Tools Used:                                                                     

 • get_ta_macd(ticker='AAPL', timespan='day', short_window=12, long_window=26,  
   signal_window=9, limit=10) - Provide MACD momentum and signaling             

📊 Performance Metrics:
   ⏱️  Response Time: 8.861s
   🔢  Tokens Used: 22,288 (Input: 22,162, Output: 126)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL: 255.85 (-0.84%), High 259.07, Low 255.05, Open 257.65, Prev Close      
   258.02                                                                       
 • MSFT: 528.69 (+2.19%), High 529.05, Low 518.16, Open 518.16, Prev Close      
   517.35                                                                       
 • GOOGL: 249.62 (+1.74%), High 249.70, Low 244.58, Open 245.66, Prev Close     
   245.35                                                                       

Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['AAPL','MSFT','GOOGL'], market_type='stocks') 
   - Initial attempt for bulk quotes; data returned incomplete, used fallback to
   individual quotes per RULE #2                                                
 • get_stock_quote(ticker='AAPL') - Single ticker fallback after bulk data issue
 • get_stock_quote(ticker='MSFT') - Single ticker fallback after bulk data issue
 • get_stock_quote(ticker='GOOGL') - Single ticker fallback after bulk data     
   issue                                                                        

📊 Performance Metrics:
   ⏱️  Response Time: 16.796s
   🔢  Tokens Used: 61,040 (Input: 60,589, Output: 451)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 12/19/2515 C 65000 (O:SPY251219C00650000)                                
 • Last price: 37.07                                                            
 • Day range: 35.58 - 37.07                                                     
 • Delta: 0.696, Gamma: 0.00638                                                 
 • Theta: -0.165                                                                
 • Vega: 0.994                                                                  
 • Implied vol: 18.35%                                                          
 • Open interest: 21,482                                                        
 • Break-even: not provided                                                     

Tools Used:                                                                     

 • get_options_quote_single(underlying_asset='SPY',                             
   option_contract='O:SPY251219C00650000') - Retrieve single options contract   
   data including Greeks and IV                                                 

📊 Performance Metrics:
   ⏱️  Response Time: 5.524s
   🔢  Tokens Used: 25,594 (Input: 25,339, Output: 255)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL daily OHLC from 2024-01-01 to 2024-03-31 (61 bars)                      
 • Start close: 185.64 (2024-01-01)                                             
 • End close: 171.48 (2024-03-31)                                               

Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='AAPL', from_date='2024-01-01',       
   to_date='2024-03-31', timespan='day', multiplier=1) - Historical daily OHLC  
   data for the requested range                                                 

📊 Performance Metrics:
   ⏱️  Response Time: 16.958s
   🔢  Tokens Used: 30,745 (Input: 30,304, Output: 441)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • TSLA on 2024-12-13 (adjusted): Close 436.23                                  
 • Open 420.00, High 436.30, Low 415.71, Volume 88,937,833                      

Tools Used:                                                                     

 • get_OHLC_bars_specific_date(ticker='TSLA', date='2024-12-13', adjusted=True) 
   - Retrieve specific date OHLC data with adjustment as requested              

📊 Performance Metrics:
   ⏱️  Response Time: 6.033s
   🔢  Tokens Used: 35,323 (Input: 35,125, Output: 198)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY previous close: 669.21                                                   

Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Provide last     
   completed trading day close.                                                 

📊 Performance Metrics:
   ⏱️  Response Time: 6.666s
   🔢  Tokens Used: 35,750 (Input: 35,610, Output: 140)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY MACD: MACD 6.24, Signal 6.04, Histogram 0.20 (bullish)                   

Tools Used:                                                                     

 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - Provide MACD momentum and signaling             

📊 Performance Metrics:
   ⏱️  Response Time: 4.610s
   🔢  Tokens Used: 36,604 (Input: 36,478, Output: 126)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day SMA: 662.18                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=20, limit=10) - Provide      
   20-day SMA value                                                             

📊 Performance Metrics:
   ⏱️  Response Time: 7.425s
   🔢  Tokens Used: 37,684 (Input: 37,595, Output: 89)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day SMA: 648.73                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Provide      
   50-day SMA value                                                             

📊 Performance Metrics:
   ⏱️  Response Time: 6.630s
   🔢  Tokens Used: 38,454 (Input: 38,301, Output: 153)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day SMA: 601.74                                                      

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=10) - Provide     
   200-day SMA value                                                            

📊 Performance Metrics:
   ⏱️  Response Time: 7.083s
   🔢  Tokens Used: 39,148 (Input: 39,061, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day EMA: 661.77                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=20, limit=10) - Provide      
   20-day EMA value                                                             

📊 Performance Metrics:
   ⏱️  Response Time: 5.769s
   🔢  Tokens Used: 39,964 (Input: 39,875, Output: 89)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day EMA: 648.98                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - Provide      
   50-day EMA value                                                             

📊 Performance Metrics:
   ⏱️  Response Time: 17.467s
   🔢  Tokens Used: 40,681 (Input: 40,594, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day EMA: 608.44                                                      

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=200, limit=10) - Provide     
   200-day EMA value                                                            

📊 Performance Metrics:
   ⏱️  Response Time: 10.209s
   🔢  Tokens Used: 41,449 (Input: 41,362, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day SMA: 669.06                                                        

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=5, limit=10) - Provide 5-day 
   SMA value                                                                    

📊 Performance Metrics:
   ⏱️  Response Time: 11.298s
   🔢  Tokens Used: 42,218 (Input: 42,131, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day SMA: 665.31                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=10, limit=10) - Provide      
   10-day SMA value                                                             

📊 Performance Metrics:
   ⏱️  Response Time: 16.965s
   🔢  Tokens Used: 42,968 (Input: 42,881, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day EMA: 669.00                                                        

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=5, limit=10) - Provide 5-day 
   EMA value                                                                    

📊 Performance Metrics:
   ⏱️  Response Time: 10.157s
   🔢  Tokens Used: 43,716 (Input: 43,629, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day EMA: 666.36                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=10, limit=10) - Provide      
   10-day EMA value                                                             

📊 Performance Metrics:
   ⏱️  Response Time: 15.929s
   🔢  Tokens Used: 44,482 (Input: 44,395, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> Goodbye!
📊 CLI session cleaned up

=== END CLI REGRESSION TEST REPORT (Loop 2/3) ===
