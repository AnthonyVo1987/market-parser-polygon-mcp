=== CLI REGRESSION TEST REPORT (Loop 3/3) ===
Timestamp: Sun Oct  5 17:44:05 PDT 2025
Loop Number: 3/3
Total Tests: 27
Passed: 27
Failed: 0
Success Rate: 100%
Total Session Duration: 243.912389743s
Session Mode: PERSISTENT (single session)
Session Count Detected: 1
Loop Status: PASS

=== RESPONSE TIME ANALYSIS ===
Min Response Time: 3.774s
Max Response Time: 20.688s
Avg Response Time: 9.38s
Performance Rating: EXCELLENT

=== TEST RESULTS DETAIL ===
Test 1: Test_1_Market_Status_Query - PASS
  Response Time: 5.085s
Test 2: Test_2_Single_Stock_Snapshot_NVDA - PASS
  Response Time: 3.774s
Test 3: Test_3_Multi_Stock_Snapshot_SPY_QQQ_IWM - PASS
  Response Time: 11.699s
Test 4: Test_4_Closing_Price_Query_SPY - PASS
  Response Time: 4.733s
Test 5: Test_5_Weekly_Performance_Analysis_SPY - PASS
  Response Time: 12.992s
Test 6: Test_6_Support_Resistance_SPY - PASS
  Response Time: 5.382s
Test 7: Test_7_Technical_Analysis_SPY - PASS
  Response Time: 6.359s
Test 8: Test_8_SMA_Indicator_SPY - PASS
  Response Time: 5.890s
Test 9: Test_9_EMA_Indicator_NVDA - PASS
  Response Time: 4.256s
Test 10: Test_10_RSI_Indicator_SPY - PASS
  Response Time: 4.451s
Test 11: Test_11_MACD_Indicator_AAPL - PASS
  Response Time: 5.697s
Test 12: Test_12_Multi_Ticker_Quote_AAPL_MSFT_GOOGL - PASS
  Response Time: 13.001s
Test 13: Test_13_Options_Quote_SPY_Call - PASS
  Response Time: 5.213s
Test 14: Test_14_OHLC_Custom_Date_Range_AAPL - PASS
  Response Time: 8.103s
Test 15: Test_15_OHLC_Specific_Date_TSLA - PASS
  Response Time: 6.432s
Test 16: Test_16_OHLC_Previous_Close_SPY - PASS
  Response Time: 12.248s
Test 17: Test_17_SPY_MACD - PASS
  Response Time: 12.105s
Test 18: Test_18_SPY_SMA_20 - PASS
  Response Time: 10.940s
Test 19: Test_19_SPY_SMA_50 - PASS
  Response Time: 6.581s
Test 20: Test_20_SPY_SMA_200 - PASS
  Response Time: 20.688s
Test 21: Test_21_SPY_EMA_20 - PASS
  Response Time: 5.951s
Test 22: Test_22_SPY_EMA_50 - PASS
  Response Time: 12.967s
Test 23: Test_23_SPY_EMA_200 - PASS
  Response Time: 13.511s
Test 24: Test_24_SPY_SMA_5 - PASS
  Response Time: 13.651s
Test 25: Test_25_SPY_SMA_10 - PASS
  Response Time: 9.605s
Test 26: Test_26_SPY_EMA_5 - PASS
  Response Time: 16.222s
Test 27: Test_27_SPY_EMA_10 - PASS
  Response Time: 15.951s

=== FULL CLI OUTPUT ===
Welcome to the GPT-5 powered Market Analysis Agent. Type 'exit' to quit.
📊 CLI session 'cli_session' initialized for conversation memory
> 
✅ Query processed successfully!
Agent Response:


 • Market status: Closed                                                        
 • Exchanges: Nasdaq, NYSE, OTC closed                                          
 • Server time: 2025-10-05 20:40:02 (ET)                                        

Tools Used:                                                                     

 • get_market_status_and_date_time() - Provide current market status and server 
   datetime per request                                                         

📊 Performance Metrics:
   ⏱️  Response Time: 5.085s
   🔢  Tokens Used: 10,950 (Input: 10,673, Output: 277)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA: Current price 187.62                                                   
 • Change: -1.27 (-0.67%)                                                       
 • Day high / low: 190.36 / 185.38                                              
 • Open: 189.19                                                                 
 • Previous close: 188.89                                                       

Tools Used:                                                                     

 • get_stock_quote(ticker='NVDA') - Single ticker request, used get_stock_quote 
   per RULE #1                                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 3.774s
   🔢  Tokens Used: 11,210 (Input: 11,038, Output: 172)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: 669.21 (-0.01%)                                                         
 • QQQ: 603.18 (-0.42%)                                                         
 • IWM: 245.83 (+0.74%)                                                         
 • SPY high/low: 672.67 / 668.16 | Open: 669.99 | Prev close: 669.22            
 • QQQ high/low: 607.33 / 601.38 | Open: 606.51 | Prev close: 605.73            
 • IWM high/low: 248.09 / 245.03 | Open: 245.35 | Prev close: 244.02            

Tools Used:                                                                     

 • get_stock_quote(ticker='SPY') - Single ticker request, used as fallback after
   multi-ticker data was unavailable                                            
 • get_stock_quote(ticker='QQQ') - Single ticker request, used as fallback after
   multi-ticker data was unavailable                                            
 • get_stock_quote(ticker='IWM') - Single ticker request, used as fallback after
   multi-ticker data was unavailable                                            

📊 Performance Metrics:
   ⏱️  Response Time: 11.699s
   🔢  Tokens Used: 31,755 (Input: 31,310, Output: 445)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY closing price today: 669.22                                              

Tools Used:                                                                     

 • get_stock_quote(ticker='SPY') - Single ticker request, used to obtain current
   and prior close data (fallback when market closed)                           

📊 Performance Metrics:
   ⏱️  Response Time: 4.733s
   🔢  Tokens Used: 6,976 (Input: 6,670, Output: 306)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: Weekly change = $7.40 (+1.12%) from 2025-09-26 to 2025-10-03            

Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-26',        
   to_date='2025-10-03', timespan='day', multiplier=1) - Used to compute        
   week-over-week price change from daily OHLC data.                            

📊 Performance Metrics:
   ⏱️  Response Time: 12.992s
   🔢  Tokens Used: 15,854 (Input: 14,730, Output: 1,124)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY support & resistance (based on recent daily OHLC):                       
    • Resistance: 672.68 (intraday high on the recent range)                    
    • Next resistance: around 669–670 (recent close)                            
    • Support: 661.82 (recent close)                                            
    • Lower support: 657.88 (daily low)                                         

Ticker: SPY                                                                     

Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-26',        
   to_date='2025-10-03', timespan='day', multiplier=1) - Used to derive recent  
   high/low and closes for short-range S/R levels                               

📊 Performance Metrics:
   ⏱️  Response Time: 5.382s
   🔢  Tokens Used: 8,448 (Input: 7,407, Output: 1,041)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day SMA: 648.03                                                       
 • SPY 50-day EMA: 648.04                                                       
 • SPY RSI(14): 68.91 (near overbought)                                         
 • SPY MACD(12,26,9): MACD 6.05 | Signal 6.00 | Histogram 0.06                  

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=5) - SMA           
   calculation                                                                  
 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=5) - EMA           
   calculation                                                                  
 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=5) - RSI           
   calculation                                                                  
 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=5) - MACD calculation                                 

📊 Performance Metrics:
   ⏱️  Response Time: 6.359s
   🔢  Tokens Used: 11,342 (Input: 10,658, Output: 684)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day SMA: 648.03                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Retrieve     
   50-day SMA values.                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 5.890s
   🔢  Tokens Used: 18,038 (Input: 17,948, Output: 90)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA 20-day EMA: 180.54                                                      

Tools Used:                                                                     

 • get_ta_ema(ticker='NVDA', timespan='day', window=20, limit=10) - Retrieve    
   20-day EMA values for NVDA                                                   

📊 Performance Metrics:
   ⏱️  Response Time: 4.256s
   🔢  Tokens Used: 18,800 (Input: 18,708, Output: 92)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY RSI(14): 69.00 (near overbought)                                         

Tools Used:                                                                     

 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - RSI          
   calculation                                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 4.451s
   🔢  Tokens Used: 19,580 (Input: 19,491, Output: 89)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL MACD: 7.41 | Signal: 6.97 | Histogram: 0.44                             

Tools Used:                                                                     

 • get_ta_macd(ticker='AAPL', timespan='day', short_window=12, long_window=26,  
   signal_window=9, limit=10) - MACD calculation for AAPL                       

📊 Performance Metrics:
   ⏱️  Response Time: 5.697s
   🔢  Tokens Used: 20,780 (Input: 20,593, Output: 187)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL: 258.02 (+0.35%), High 259.24, Low 253.95, Open 254.66, Prev 257.13     
 • MSFT: 517.35 (+0.31%), High 520.49, Low 515.00, Open 517.10, Prev 515.74     
 • GOOGL: 245.35 (-0.14%), High 246.30, Low 241.66, Open 244.49, Prev 245.69    

Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['AAPL','MSFT','GOOGL'], market_type='stocks') 
   - Attempted parallel quotes for multiple tickers                             
 • get_stock_quote(ticker='AAPL') - Fallback single ticker request              
 • get_stock_quote(ticker='MSFT') - Fallback single ticker request              
 • get_stock_quote(ticker='GOOGL') - Fallback single ticker request             

Reasoning: multi-ticker data returned zeros, so used individual Finnhub quotes  
as fallback per RULE 2/7.                                                       

📊 Performance Metrics:
   ⏱️  Response Time: 13.001s
   🔢  Tokens Used: 56,811 (Input: 56,418, Output: 393)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 251219C6500000 (Dec SPY 650 Call)                                        
    • Last price: 34.90                                                         
    • Day high/low: 37.67 / 34.60                                               
    • Bid/Ask: not provided                                                     
    • Implied Vol: 18.12%                                                       
    • Delta: 0.679                                                              
    • Gamma: 0.0066                                                             
    • Theta: -0.165                                                             
    • Vega: 1.143                                                               
    • Open Interest: 21,568                                                     
    • Break-even: not provided                                                  

Tools Used:                                                                     

 • get_options_quote_single(underlying_asset='SPY',                             
   option_contract='O:SPY251219C00650000') - Retrieve single options contract   
   quote and Greeks from Polygon.io                                             

📊 Performance Metrics:
   ⏱️  Response Time: 5.213s
   🔢  Tokens Used: 24,061 (Input: 23,792, Output: 269)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL daily bars from 2024-01-01 to 2024-03-31: 61 data points                
 • First close: 185.64                                                          
 • Last close (latest in range): 171.48                                         
 • Data source: Polygon.io (OHLC daily bars)                                    

Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='AAPL', from_date='2024-01-01',       
   to_date='2024-03-31', timespan='day', multiplier=1) - Retrieve daily OHLC    
   bars for the specified date range                                            

📊 Performance Metrics:
   ⏱️  Response Time: 8.103s
   🔢  Tokens Used: 29,428 (Input: 28,728, Output: 700)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • TSLA on 2024-12-13 (adjusted): Open 420.00, High 436.30, Low 415.71, Close   
   436.23                                                                       

Tools Used:                                                                     

 • get_OHLC_bars_specific_date(ticker='TSLA', date='2024-12-13', adjusted=True) 
   - Fetch specific daily OHLC data for TSLA                                    

📊 Performance Metrics:
   ⏱️  Response Time: 6.432s
   🔢  Tokens Used: 33,981 (Input: 33,664, Output: 317)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY previous trading day close: 669.21                                       

Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Retrieved last   
   completed day close for SPY                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 12.248s
   🔢  Tokens Used: 34,662 (Input: 34,197, Output: 465)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY MACD (daily): MACD 6.05 | Signal 5.99 | Histogram 0.06                   

Tools Used:                                                                     

 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - MACD calculation for SPY                        

📊 Performance Metrics:
   ⏱️  Response Time: 12.105s
   🔢  Tokens Used: 35,048 (Input: 34,859, Output: 189)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day SMA: 661.01                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=20, limit=10) - Retrieve     
   20-day SMA values                                                            

📊 Performance Metrics:
   ⏱️  Response Time: 10.940s
   🔢  Tokens Used: 36,064 (Input: 35,977, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day SMA: 648.03                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Retrieve     
   50-day SMA values                                                            

📊 Performance Metrics:
   ⏱️  Response Time: 6.581s
   🔢  Tokens Used: 36,824 (Input: 36,737, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day SMA: 601.41                                                      

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=10) - Retrieve    
   200-day SMA values                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 20.688s
   🔢  Tokens Used: 37,705 (Input: 37,562, Output: 143)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day EMA: 660.68                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=20, limit=10) - Retrieve     
   20-day EMA values                                                            

📊 Performance Metrics:
   ⏱️  Response Time: 5.951s
   🔢  Tokens Used: 38,459 (Input: 38,372, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day EMA: 648.04                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - Retrieve     
   50-day EMA values                                                            

📊 Performance Metrics:
   ⏱️  Response Time: 12.967s
   🔢  Tokens Used: 39,225 (Input: 39,138, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day EMA: 607.80                                                      

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=200, limit=10) - Retrieve    
   200-day EMA values                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 13.511s
   🔢  Tokens Used: 39,993 (Input: 39,906, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day SMA: 667.35                                                        

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=5, limit=10) - Retrieve 5-day
   SMA values                                                                   

📊 Performance Metrics:
   ⏱️  Response Time: 13.651s
   🔢  Tokens Used: 40,918 (Input: 40,765, Output: 153)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day SMA: 664.78                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=10, limit=10) - Retrieve     
   10-day SMA values                                                            

📊 Performance Metrics:
   ⏱️  Response Time: 9.605s
   🔢  Tokens Used: 41,512 (Input: 41,425, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day EMA: 667.38                                                        

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=5, limit=10) - Retrieve 5-day
   EMA values                                                                   

📊 Performance Metrics:
   ⏱️  Response Time: 16.222s
   🔢  Tokens Used: 42,260 (Input: 42,173, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day EMA: 665.05                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=10, limit=10) - Retrieve     
   10-day EMA values                                                            

📊 Performance Metrics:
   ⏱️  Response Time: 15.951s
   🔢  Tokens Used: 43,026 (Input: 42,939, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> Goodbye!
📊 CLI session cleaned up

=== END CLI REGRESSION TEST REPORT (Loop 3/3) ===
