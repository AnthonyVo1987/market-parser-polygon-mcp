=== CLI REGRESSION TEST REPORT (Loop 3/3) ===
Timestamp: Mon Oct  6 11:09:00 PDT 2025
Loop Number: 3/3
Total Tests: 27
Passed: 27
Failed: 0
Success Rate: 100%
Total Session Duration: 258.111s
Session Mode: PERSISTENT (single session)
Session Count Detected: 1
Loop Status: PASS

=== RESPONSE TIME ANALYSIS ===
Min Response Time: 4.019s
Max Response Time: 17.159s
Avg Response Time: 9.464s
Performance Rating: EXCELLENT

=== TEST RESULTS DETAIL ===
Test 1: Test_1_Market_Status_Query - PASS
  Response Time: 5.273s
Test 2: Test_2_Single_Stock_Snapshot_NVDA - PASS
  Response Time: 4.019s
Test 3: Test_3_Multi_Stock_Snapshot_SPY_QQQ_IWM - PASS
  Response Time: 17.076s
Test 4: Test_4_Closing_Price_Query_SPY - PASS
  Response Time: 6.090s
Test 5: Test_5_Weekly_Performance_Analysis_SPY - PASS
  Response Time: 14.373s
Test 6: Test_6_Support_Resistance_SPY - PASS
  Response Time: 8.287s
Test 7: Test_7_Technical_Analysis_SPY - PASS
  Response Time: 9.298s
Test 8: Test_8_SMA_Indicator_SPY - PASS
  Response Time: 5.283s
Test 9: Test_9_EMA_Indicator_NVDA - PASS
  Response Time: 5.993s
Test 10: Test_10_RSI_Indicator_SPY - PASS
  Response Time: 5.616s
Test 11: Test_11_MACD_Indicator_AAPL - PASS
  Response Time: 7.825s
Test 12: Test_12_Multi_Ticker_Quote_AAPL_MSFT_GOOGL - PASS
  Response Time: 17.159s
Test 13: Test_13_Options_Quote_SPY_Call - PASS
  Response Time: 6.448s
Test 14: Test_14_OHLC_Custom_Date_Range_AAPL - PASS
  Response Time: 9.992s
Test 15: Test_15_OHLC_Specific_Date_TSLA - PASS
  Response Time: 5.761s
Test 16: Test_16_OHLC_Previous_Close_SPY - PASS
  Response Time: 7.031s
Test 17: Test_17_SPY_MACD - PASS
  Response Time: 6.954s
Test 18: Test_18_SPY_SMA_20 - PASS
  Response Time: 8.244s
Test 19: Test_19_SPY_SMA_50 - PASS
  Response Time: 6.641s
Test 20: Test_20_SPY_SMA_200 - PASS
  Response Time: 7.977s
Test 21: Test_21_SPY_EMA_20 - PASS
  Response Time: 12.074s
Test 22: Test_22_SPY_EMA_50 - PASS
  Response Time: 13.047s
Test 23: Test_23_SPY_EMA_200 - PASS
  Response Time: 13.259s
Test 24: Test_24_SPY_SMA_5 - PASS
  Response Time: 13.581s
Test 25: Test_25_SPY_SMA_10 - PASS
  Response Time: 13.816s
Test 26: Test_26_SPY_EMA_5 - PASS
  Response Time: 12.744s
Test 27: Test_27_SPY_EMA_10 - PASS
  Response Time: 11.666s

=== FULL CLI OUTPUT ===
Welcome to the GPT-5 powered Market Analysis Agent. Type 'exit' to quit.
📊 CLI session 'cli_session' initialized for conversation memory
> 
✅ Query processed successfully!
Agent Response:


 • Market Status: Open                                                          
 • Exchanges: NASDAQ open, NYSE open, OTC open                                  
 • Server Time: 2025-10-06 14:04:43 (UTC-04:00)                                 
 • Date: 2025-10-06                                                             

Tools Used:                                                                     

 • get_market_status_and_date_time() - Provided real-time market status and     
   server datetime per RULE 4.                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 5.273s
   🔢  Tokens Used: 10,821 (Input: 10,651, Output: 170)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA: 186.02                                                                 
 • Change: -1.60 (-0.85%)                                                       
 • High: 188.46                                                                 
 • Low: 183.33                                                                  
 • Open: 188.46                                                                 
 • Previous Close: 187.62                                                       

Tools Used:                                                                     

 • get_stock_quote(ticker='NVDA') - Single ticker request, used to fetch        
   real-time quote data from Finnhub per RULE #1                                

📊 Performance Metrics:
   ⏱️  Response Time: 4.019s
   🔢  Tokens Used: 11,161 (Input: 11,049, Output: 112)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: 672.41, +3.20 (+0.48%), High 672.42, Low 669.46, Open 670.64, Prev      
   669.21                                                                       
 • QQQ: 608.90, +5.72 (+0.95%), High 608.91, Low 605.28, Open 605.28, Prev      
   603.18                                                                       
 • IWM: 247.87, +2.04 (+0.83%), High 248.47, Low 246.06, Open 246.48, Prev      
   245.83                                                                       

Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['SPY','QQQ','IWM'], market_type='stocks') -   
   Attempted to fetch in parallel for multiple tickers; data appeared           
   unavailable, so used fallback to individual quotes per RULES.                
 • get_stock_quote(ticker='SPY') - Individual quote to obtain real-time data    
   from Finnhub                                                                 
 • get_stock_quote(ticker='QQQ') - Individual quote to obtain real-time data    
   from Finnhub                                                                 
 • get_stock_quote(ticker='IWM') - Individual quote to obtain real-time data    
   from Finnhub                                                                 

📊 Performance Metrics:
   ⏱️  Response Time: 17.076s
   🔢  Tokens Used: 31,973 (Input: 31,500, Output: 473)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY today closing price: 669.21                                              

Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Used to fetch    
   last completed trading day's close (fallback per RULE 7)                     

📊 Performance Metrics:
   ⏱️  Response Time: 6.090s
   🔢  Tokens Used: 13,964 (Input: 13,751, Output: 213)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: Weekly change = 7.39 USD, +1.12%                                        
 • Week starts from 2025-09-22 close 661.82 to 2025-10-04 close 669.21          

Notes:                                                                          

 • Previous weekly close: 661.82                                                
 • Current weekly close: 669.21                                                 

Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-22',        
   to_date='2025-09-28', timespan='week', multiplier=1) - Retrieved last week's 
   close (661.82)                                                               
 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-29',        
   to_date='2025-10-04', timespan='week', multiplier=1) - Retrieved this week's 
   close (669.21)                                                               

📊 Performance Metrics:
   ⏱️  Response Time: 14.373s
   🔢  Tokens Used: 23,488 (Input: 22,535, Output: 953)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • Support: 661.61 (recent weekly low)                                          
 • Resistance: 672.68 (recent weekly high)                                      
 • 50-day SMA: 648.73 (near-term trend baseline)                                

Notes:                                                                          

 • Additional intraday pivots could refine S/R; current levels based on recent  
   weekly bar.                                                                  
 • If price breaks 672.68, next resistance could be around previous swing highs 
   near 676-680 (not confirmed from current data).                              

Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-29',        
   to_date='2025-10-04', timespan='week', multiplier=1) - Used to identify      
   weekly high/low for S/R                                                      
 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=1) - Provided      
   50-day SMA as additional reference level                                     

📊 Performance Metrics:
   ⏱️  Response Time: 8.287s
   🔢  Tokens Used: 16,337 (Input: 15,790, Output: 547)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • 50-day SMA (SPY): 648.73                                                     
 • 50-day EMA (SPY): 648.99                                                     
 • RSI (14d, SPY): 71.71 (overbought)                                           
 • MACD (12/26/9, SPY): MACD 6.24, Signal 6.04, Histogram 0.20 (bullish)        

Notes:                                                                          

 • Trend appears up; near-term momentum positive but overbought risk exists.    

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Provided     
   50-day simple moving average                                                 
 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - Provided     
   50-day exponential moving average                                            
 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - Provided RSI 
   value and interpretation                                                     
 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - Provided MACD components                        

📊 Performance Metrics:
   ⏱️  Response Time: 9.298s
   🔢  Tokens Used: 12,451 (Input: 11,726, Output: 725)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day SMA: 648.73                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Provided     
   50-day simple moving average values; latest is 648.73                        

📊 Performance Metrics:
   ⏱️  Response Time: 5.283s
   🔢  Tokens Used: 20,220 (Input: 20,057, Output: 163)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA 20-day EMA: 181.02                                                      

Tools Used:                                                                     

 • get_ta_ema(ticker='NVDA', timespan='day', window=20, limit=10) - Provided    
   20-day EMA value                                                             

📊 Performance Metrics:
   ⏱️  Response Time: 5.993s
   🔢  Tokens Used: 20,955 (Input: 20,801, Output: 154)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY RSI (14d): 71.71 (overbought)                                            

Tools Used:                                                                     

 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - Provided     
   14-day RSI value and interpretation                                          

📊 Performance Metrics:
   ⏱️  Response Time: 5.616s
   🔢  Tokens Used: 21,763 (Input: 21,603, Output: 160)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL MACD: 7.18, Signal 7.01, Histogram 0.17 (bullish)                       

Notes:                                                                          

 • MACD and signal both rising; histogram positive, trend bullish.              

Tools Used:                                                                     

 • get_ta_macd(ticker='AAPL', timespan='day', short_window=12, long_window=26,  
   signal_window=9, limit=10) - Provided MACD components for interpretation     

📊 Performance Metrics:
   ⏱️  Response Time: 7.825s
   🔢  Tokens Used: 22,889 (Input: 22,685, Output: 204)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL: 256.13, -1.89 (-0.73%), High 259.07, Low 255.05, Open 257.65, Prev     
   258.02                                                                       
 • MSFT: 527.52, +10.17 (+1.97%), High 529.05, Low 518.16, Open 518.16, Prev    
   517.35                                                                       
 • GOOGL: 248.45, +3.10 (+1.26%), High 249.56, Low 244.58, Open 245.66, Prev    
   245.35                                                                       

Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['AAPL','MSFT','GOOGL'], market_type='stocks') 
   - Attempted parallel quotes for multiple tickers; data unavailable in batch, 
   fallback to individual quotes                                                
 • get_stock_quote(ticker='AAPL') - Single ticker quote from Finnhub            
 • get_stock_quote(ticker='MSFT') - Single ticker quote from Finnhub            
 • get_stock_quote(ticker='GOOGL') - Single ticker quote from Finnhub           

📊 Performance Metrics:
   ⏱️  Response Time: 17.159s
   🔢  Tokens Used: 62,054 (Input: 61,659, Output: 395)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 251219C6500 (O:SPY251219C00650000)                                       
    • Last price (quote): 36.98                                                 
    • Day range: 35.58 - 36.98                                                  
    • Implied vol: 18.36%                                                       
    • Delta: 0.696                                                              
    • Gamma: 0.00637                                                            
    • Theta: -0.165                                                             
    • Vega: 0.994                                                               
    • Open/High/Low/Vol: Open 35.96, High 36.98, Low 35.58, Volume 117          
    • Open Interest: 21,482                                                     
    • Break-even: not provided                                                  

Notes:                                                                          

 • Positive delta ~0.70 implies it moves with SPY; IV around 18.3% relatively   
   modest.                                                                      

Tools Used:                                                                     

 • get_options_quote_single(underlying_asset='SPY',                             
   option_contract='O:SPY251219C00650000') - Provided single options contract   
   data from Polygon.io, including greeks and IV                                

📊 Performance Metrics:
   ⏱️  Response Time: 6.448s
   🔢  Tokens Used: 26,125 (Input: 25,865, Output: 260)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • Timeframe: AAPL daily bars from 2024-01-01 to 2024-03-31                     
 • Bars returned: 61                                                            
 • First close (2024-01-01): 185.64                                             
 • Last close (2024-03-31): 171.48                                              

Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='AAPL', from_date='2024-01-01',       
   to_date='2024-03-31', timespan='day', multiplier=1, limit=5000) - Retrieved  
   daily OHLC bars for the requested date range                                 

📊 Performance Metrics:
   ⏱️  Response Time: 9.992s
   🔢  Tokens Used: 31,621 (Input: 31,104, Output: 517)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • TSLA on 2024-12-13 (adjusted): Close 436.23                                  

Tools Used:                                                                     

 • get_OHLC_bars_specific_date(ticker='TSLA', date='2024-12-13', adjusted=True) 
   - Provided specific date OHLC data from Polygon.io                           

📊 Performance Metrics:
   ⏱️  Response Time: 5.761s
   🔢  Tokens Used: 36,075 (Input: 35,840, Output: 235)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY Previous close: 669.21                                                   

Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Retrieved last   
   traded close prior to today (previous trading day)                           

📊 Performance Metrics:
   ⏱️  Response Time: 7.031s
   🔢  Tokens Used: 18,190 (Input: 18,011, Output: 179)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY MACD: 6.24, Signal 6.04, Histogram 0.20 (bullish)                        

Tools Used:                                                                     

 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - Provided MACD components for SPY                

📊 Performance Metrics:
   ⏱️  Response Time: 6.954s
   🔢  Tokens Used: 37,047 (Input: 36,857, Output: 190)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day SMA: 662.18                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=20, limit=10) - Provided     
   20-day simple moving average                                                 

📊 Performance Metrics:
   ⏱️  Response Time: 8.244s
   🔢  Tokens Used: 37,966 (Input: 37,877, Output: 89)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day SMA: 648.74                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Provided     
   50-day simple moving average                                                 

📊 Performance Metrics:
   ⏱️  Response Time: 6.641s
   🔢  Tokens Used: 38,730 (Input: 38,641, Output: 89)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day SMA: 601.74                                                      

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=200, limit=10) - Provided    
   200-day simple moving average                                                

📊 Performance Metrics:
   ⏱️  Response Time: 7.977s
   🔢  Tokens Used: 39,494 (Input: 39,405, Output: 89)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 20-day EMA: 661.79                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=20, limit=10) - Provided     
   20-day EMA                                                                   

📊 Performance Metrics:
   ⏱️  Response Time: 12.074s
   🔢  Tokens Used: 40,263 (Input: 40,176, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day EMA: 648.99                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - Provided     
   50-day EMA                                                                   

📊 Performance Metrics:
   ⏱️  Response Time: 13.047s
   🔢  Tokens Used: 41,029 (Input: 40,942, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 200-day EMA: 608.44                                                      

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=200, limit=10) - Provided    
   200-day EMA                                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 13.259s
   🔢  Tokens Used: 41,797 (Input: 41,710, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day SMA: 669.07                                                        

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=5, limit=10) - Provided 5-day
   SMA                                                                          

📊 Performance Metrics:
   ⏱️  Response Time: 13.581s
   🔢  Tokens Used: 42,566 (Input: 42,479, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day SMA: 665.32                                                       

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=10, limit=10) - Provided     
   10-day SMA                                                                   

📊 Performance Metrics:
   ⏱️  Response Time: 13.816s
   🔢  Tokens Used: 43,312 (Input: 43,225, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 5-day EMA: 669.02                                                        

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=5, limit=10) - Provided 5-day
   EMA                                                                          

📊 Performance Metrics:
   ⏱️  Response Time: 12.744s
   🔢  Tokens Used: 44,056 (Input: 43,969, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 10-day EMA: 666.37                                                       

Tools Used:                                                                     

 • get_ta_ema(ticker='SPY', timespan='day', window=10, limit=10) - Provided     
   10-day EMA                                                                   

📊 Performance Metrics:
   ⏱️  Response Time: 11.666s
   🔢  Tokens Used: 44,822 (Input: 44,735, Output: 87)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> Goodbye!
📊 CLI session cleaned up

=== END CLI REGRESSION TEST REPORT (Loop 3/3) ===
