=== PERSISTENT SESSION TEST REPORT ===
Timestamp: Sun Oct  5 15:27:20 PDT 2025
Total Tests: 16
Passed: 16
Failed: 0
Success Rate: 100%
Total Session Duration: 83.079779971s
Session Mode: PERSISTENT (single session)
Session Count Detected: 1

=== RESPONSE TIME ANALYSIS ===
Min Response Time: 1.942s
Max Response Time: 10.172s
Avg Response Time: 5.30s
Performance Rating: EXCELLENT

=== TEST RESULTS DETAIL ===
Test 1: Test_1_Market_Status_Query - PASS
  Response Time: 4.301s
Test 2: Test_2_Single_Stock_Snapshot_NVDA - PASS
  Response Time: 4.210s
Test 3: Test_3_Multi_Stock_Snapshot_SPY_QQQ_IWM - PASS
  Response Time: 5.526s
Test 4: Test_4_Closing_Price_Query_SPY - PASS
  Response Time: 4.781s
Test 5: Test_5_Weekly_Performance_Analysis_SPY - PASS
  Response Time: 10.172s
Test 6: Test_6_Support_Resistance_SPY - PASS
  Response Time: 4.067s
Test 7: Test_7_Technical_Analysis_SPY - PASS
  Response Time: 10.026s
Test 8: Test_8_SMA_Indicator_SPY - PASS
  Response Time: 3.949s
Test 9: Test_9_EMA_Indicator_NVDA - PASS
  Response Time: 3.486s
Test 10: Test_10_RSI_Indicator_SPY - PASS
  Response Time: 1.942s
Test 11: Test_11_MACD_Indicator_AAPL - PASS
  Response Time: 4.812s
Test 12: Test_12_Multi_Ticker_Quote_AAPL_MSFT_GOOGL - PASS
  Response Time: 5.320s
Test 13: Test_13_Options_Quote_SPY_Call - PASS
  Response Time: 4.084s
Test 14: Test_14_OHLC_Custom_Date_Range_AAPL - PASS
  Response Time: 7.262s
Test 15: Test_15_OHLC_Specific_Date_TSLA - PASS
  Response Time: 7.832s
Test 16: Test_16_OHLC_Previous_Close_SPY - PASS
  Response Time: 3.055s

=== FULL CLI OUTPUT ===
Welcome to the GPT-5 powered Market Analysis Agent. Type 'exit' to quit.
📊 CLI session 'cli_session' initialized for conversation memory
> 
✅ Query processed successfully!
Agent Response:


 • Market status: Closed                                                        
 • Exchanges: Nasdaq closed, NYSE closed, OTC closed                            
 • After hours: Not in after-hours                                              
 • Server time: 2025-10-05 18:26:00 (UTC-04:00)                                 

Tools Used:                                                                     

 • get_market_status_and_date_time() - Retrieved real-time market status and    
   server datetime per REQUEST                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 4.301s
   🔢  Tokens Used: 10,849 (Input: 10,684, Output: 165)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA: 187.62                                                                 
 • Change: -1.27 (-0.67%)                                                       
 • High: 190.36                                                                 
 • Low: 185.38                                                                  
 • Open: 189.19                                                                 
 • Previous close: 188.89                                                       

Tools Used:                                                                     

 • get_stock_quote(ticker='NVDA') - Single ticker request, used get_stock_quote 
   per RULE #1                                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 4.210s
   🔢  Tokens Used: 11,258 (Input: 11,088, Output: 170)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: Price 0.00, Change 0.00 (0.00%), High 0.00, Low 0.00, Open 0.00, Prev   
   close N/A                                                                    
 • QQQ: Price 0.00, Change 0.00 (0.00%), High 0.00, Low 0.00, Open 0.00, Prev   
   close N/A                                                                    
 • IWM: Price 0.00, Change 0.00 (0.00%), High 0.00, Low 0.00, Open 0.00, Prev   
   close N/A                                                                    

Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['SPY','QQQ','IWM'], market_type='stocks') -   
   Multiple tickers, used get_stock_quote_multi per RULE #2 with list format and
   market_type='stocks'                                                         

📊 Performance Metrics:
   ⏱️  Response Time: 5.526s
   🔢  Tokens Used: 12,330 (Input: 11,855, Output: 475)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY closing price today: 669.21                                              

Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Fallback method  
   to obtain last close when market is closed                                   

📊 Performance Metrics:
   ⏱️  Response Time: 4.781s
   🔢  Tokens Used: 13,390 (Input: 13,051, Output: 339)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY weekly price change: 0.00 (0.00%)                                        
 • Current price: 669.21                                                        
 • Last weekly close: 669.21                                                    

Tools Used:                                                                     

 • get_stock_quote(ticker='SPY') - Single ticker price, current level           
 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-01',        
   to_date='2025-09-28', timespan='week', multiplier=1, limit=10) - Retrieved   
   last weekly close for comparison                                             

📊 Performance Metrics:
   ⏱️  Response Time: 10.172s
   🔢  Tokens Used: 23,010 (Input: 21,978, Output: 1,032)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY near-term support: 668.0 – 669.0                                         
 • SPY resistance: 672.5 – 673.5                                                
 • Rationale: recent daily range shows low around 668.16 and high around 672.67;
   use these as current support/resistance baselines.                           

Ticker: SPY                                                                     

Tools Used:                                                                     

 • get_stock_quote(ticker='SPY') - Referenced current daily range data to infer 
   S/R levels                                                                   

📊 Performance Metrics:
   ⏱️  Response Time: 4.067s
   🔢  Tokens Used: 7,908 (Input: 7,296, Output: 612)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY TA (daily)                                                               
    • SMA(50): 648.03                                                           
    • EMA(50): 648.04                                                           
    • RSI(14): 69.00 (near overbought)                                          
    • MACD(12,26,9): MACD 6.05, Signal 5.99, Histogram 0.06                     

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Compute      
   50-day simple moving average                                                 
 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - Compute      
   50-day exponential moving average                                            
 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - Compute      
   14-day RSI                                                                   
 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - Compute MACD values                             

📊 Performance Metrics:
   ⏱️  Response Time: 10.026s
   🔢  Tokens Used: 12,003 (Input: 11,109, Output: 894)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY SMA(50): 648.03                                                          

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Compute      
   50-day simple moving average                                                 

📊 Performance Metrics:
   ⏱️  Response Time: 3.949s
   🔢  Tokens Used: 18,888 (Input: 18,799, Output: 89)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA 20-day EMA: 180.54                                                      

Tools Used:                                                                     

 • get_ta_ema(ticker='NVDA', timespan='day', window=20, limit=10) - Compute     
   20-day EMA for NVDA                                                          

📊 Performance Metrics:
   ⏱️  Response Time: 3.486s
   🔢  Tokens Used: 19,659 (Input: 19,568, Output: 91)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY RSI(14): 69.00 (near overbought)                                         

Tools Used:                                                                     

 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - Compute      
   14-day RSI for SPY                                                           

📊 Performance Metrics:
   ⏱️  Response Time: 1.942s
   🔢  Tokens Used: 10,169 (Input: 9,980, Output: 189)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL MACD (daily): MACD 7.41, Signal 6.97, Histogram 0.44                    

Tools Used:                                                                     

 • get_ta_macd(ticker='AAPL', timespan='day', short_window=12, long_window=26,  
   signal_window=9, limit=10) - Compute MACD values for AAPL                    

📊 Performance Metrics:
   ⏱️  Response Time: 4.812s
   🔢  Tokens Used: 20,889 (Input: 20,763, Output: 126)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY weekly price change: 0.00 (0.00%)                                        
 • Current price: 669.21                                                        
 • Last weekly close: 669.21                                                    

Tools Used:                                                                     

 • get_stock_quote(ticker='SPY') - Single ticker price, current level           
 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-01',        
   to_date='2025-09-28', timespan='week', multiplier=1, limit=10) - Retrieved   
   last weekly close for comparison                                             

📊 Performance Metrics:
   ⏱️  Response Time: 5.320s
   🔢  Tokens Used: 22,397 (Input: 22,076, Output: 321)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY Dec 650 Call (O:SPY251219C00650000)                                      
    • Last trade: not provided                                                  
    • Day range: open 35.76, high 37.67, low 34.60, close 34.90                 
    • Implied Volatility: 18.11%                                                
    • Delta: 0.679                                                              
    • Gamma: 0.0066                                                             
    • Theta: -0.165                                                             
    • Vega: 1.144                                                               
    • Open interest: 21,568                                                     

Tools Used:                                                                     

 • get_options_quote_single(underlying_asset='SPY',                             
   option_contract='O:SPY251219C00650000') - Options quote for specific SPY     
   contract                                                                     

📊 Performance Metrics:
   ⏱️  Response Time: 4.084s
   🔢  Tokens Used: 23,601 (Input: 23,404, Output: 197)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL daily bars (2024-01-01 to 2024-03-31)                                   
    • Data points: 61 trading days                                              
    • First close: 185.64                                                       
    • Last close: 171.48                                                        
    • Note: contains daily open/high/low/close and volume for the period        

Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='AAPL', from_date='2024-01-01',       
   to_date='2024-03-31', timespan='day', multiplier=1, limit=120) - Retrieved   
   daily OHLC data for the specified date range                                 

📊 Performance Metrics:
   ⏱️  Response Time: 7.262s
   🔢  Tokens Used: 28,916 (Input: 28,396, Output: 520)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • TSLA price on 2024-12-13:                                                    
    • Open: 420.00                                                              
    • High: 436.30                                                              
    • Low: 415.71                                                               
    • Close: 436.23                                                             

Tools Used:                                                                     

 • get_OHLC_bars_specific_date(ticker='TSLA', date='2024-12-13', adjusted=True) 
   - Retrieve daily OHLC for a specific date                                    

📊 Performance Metrics:
   ⏱️  Response Time: 7.832s
   🔢  Tokens Used: 33,456 (Input: 33,257, Output: 199)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY previous trading day close: 669.21                                       

Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Retrieved last   
   close prior to today as the previous trading day close                       

📊 Performance Metrics:
   ⏱️  Response Time: 3.055s
   🔢  Tokens Used: 16,995 (Input: 16,750, Output: 245)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> Goodbye!
📊 CLI session cleaned up

=== END PERSISTENT SESSION TEST REPORT ===
