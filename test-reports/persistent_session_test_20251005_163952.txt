=== PERSISTENT SESSION TEST REPORT ===
Timestamp: Sun Oct  5 16:41:16 PDT 2025
Total Tests: 16
Passed: 16
Failed: 0
Success Rate: 100%
Total Session Duration: 83.516937623s
Session Mode: PERSISTENT (single session)
Session Count Detected: 1

=== RESPONSE TIME ANALYSIS ===
Min Response Time: 3.149s
Max Response Time: 9.194s
Avg Response Time: 5.27s
Performance Rating: EXCELLENT

=== TEST RESULTS DETAIL ===
Test 1: Test_1_Market_Status_Query - PASS
  Response Time: 5.016s
Test 2: Test_2_Single_Stock_Snapshot_NVDA - PASS
  Response Time: 3.638s
Test 3: Test_3_Multi_Stock_Snapshot_SPY_QQQ_IWM - PASS
  Response Time: 6.468s
Test 4: Test_4_Closing_Price_Query_SPY - PASS
  Response Time: 3.305s
Test 5: Test_5_Weekly_Performance_Analysis_SPY - PASS
  Response Time: 4.729s
Test 6: Test_6_Support_Resistance_SPY - PASS
  Response Time: 4.404s
Test 7: Test_7_Technical_Analysis_SPY - PASS
  Response Time: 8.527s
Test 8: Test_8_SMA_Indicator_SPY - PASS
  Response Time: 4.054s
Test 9: Test_9_EMA_Indicator_NVDA - PASS
  Response Time: 5.977s
Test 10: Test_10_RSI_Indicator_SPY - PASS
  Response Time: 3.149s
Test 11: Test_11_MACD_Indicator_AAPL - PASS
  Response Time: 4.095s
Test 12: Test_12_Multi_Ticker_Quote_AAPL_MSFT_GOOGL - PASS
  Response Time: 5.396s
Test 13: Test_13_Options_Quote_SPY_Call - PASS
  Response Time: 4.740s
Test 14: Test_14_OHLC_Custom_Date_Range_AAPL - PASS
  Response Time: 5.670s
Test 15: Test_15_OHLC_Specific_Date_TSLA - PASS
  Response Time: 6.005s
Test 16: Test_16_OHLC_Previous_Close_SPY - PASS
  Response Time: 9.194s

=== FULL CLI OUTPUT ===
Welcome to the GPT-5 powered Market Analysis Agent. Type 'exit' to quit.
📊 CLI session 'cli_session' initialized for conversation memory
> 
✅ Query processed successfully!
Agent Response:


 • Market Status: Closed                                                        
 • Exchanges: Nasdaq – closed, NYSE – closed, OTC – closed                      
 • After Hours: Off                                                             
 • Early Hours: Off                                                             
 • Server Time: 2025-10-05 19:39:55 (UTC-04:00)                                 

Tools Used:                                                                     

 • get_market_status_and_date_time() - Provided real-time market status and     
   server datetime per request.                                                 

📊 Performance Metrics:
   ⏱️  Response Time: 5.016s
   🔢  Tokens Used: 10,863 (Input: 10,692, Output: 171)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA: $187.62                                                                
 • Change: -$1.27 (-0.67%)                                                      
 • High: $190.36                                                                
 • Low: $185.38                                                                 
 • Open: $189.19                                                                
 • Previous close: $188.89                                                      

Tools Used:                                                                     

 • get_stock_quote(ticker='NVDA') - Single ticker request via Finnhub for       
   real-time quote data.                                                        

📊 Performance Metrics:
   ⏱️  Response Time: 3.638s
   🔢  Tokens Used: 11,171 (Input: 11,064, Output: 107)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: 0.00                                                                    
 • QQQ: 0.00                                                                    
 • IWM: 0.00                                                                    

Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['SPY','QQQ','IWM'], market_type='stocks') -   
   Multiple tickers requested; provided snapshot data for all three tickers.    

📊 Performance Metrics:
   ⏱️  Response Time: 6.468s
   🔢  Tokens Used: 12,208 (Input: 11,843, Output: 365)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY closing price (previous close): 669.21                                   

Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Provided last    
   available closing price data from Polygon.io for SPY.                        

📊 Performance Metrics:
   ⏱️  Response Time: 3.305s
   🔢  Tokens Used: 12,961 (Input: 12,748, Output: 213)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY weekly price change: $7.39 (+1.12%)                                      

Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='SPY', from_date='2025-09-01',        
   to_date='2025-10-05', timespan='week', multiplier=1) - Retrieved weekly OHLC 
   bars to calculate week-over-week change.                                     

📊 Performance Metrics:
   ⏱️  Response Time: 4.729s
   🔢  Tokens Used: 14,344 (Input: 13,751, Output: 593)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY support: around 661.6 – 663.0                                            
 • SPY resistance: around 672.7 (weekly high)                                   
 • Nearby range: 661.6 to 672.7                                                 

Notes:                                                                          

 • Immediate resistance near 672.7; a break above could target 675–677+.        
 • Immediate support near 661.6; a break below could target 654–656.            

Ticker: SPY                                                                     

Tools Used:                                                                     

 • No new tool calls in this response. Derived from prior SPY weekly OHLC data. 

📊 Performance Metrics:
   ⏱️  Response Time: 4.404s
   🔢  Tokens Used: 7,807 (Input: 7,049, Output: 758)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY SMA(50d): 648.03                                                         
 • SPY EMA(50d): 648.04                                                         
 • SPY RSI(14d): 68.91 (near overbought)                                        
 • SPY MACD(12,26,9): MACD 6.05, Signal 6.00, Histogram 0.06                    

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=5) - Calculated    
   50-day simple moving average                                                 
 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=5) - Calculated    
   50-day exponential moving average                                            
 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=5) - Calculated    
   14-day RSI                                                                   
 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=5) - Calculated MACD components                       

📊 Performance Metrics:
   ⏱️  Response Time: 8.527s
   🔢  Tokens Used: 11,036 (Input: 10,266, Output: 770)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY SMA(50d): 648.03                                                         

Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Retrieved    
   50-day SMA values; returning latest as of the most recent date.              

📊 Performance Metrics:
   ⏱️  Response Time: 4.054s
   🔢  Tokens Used: 17,250 (Input: 17,153, Output: 97)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA 20-day EMA: 180.54                                                      

Tools Used:                                                                     

 • get_ta_ema(ticker='NVDA', timespan='day', window=20, limit=10) - Retrieved   
   20-day EMA values; using the latest as of the most recent date.              

📊 Performance Metrics:
   ⏱️  Response Time: 5.977s
   🔢  Tokens Used: 18,089 (Input: 17,989, Output: 100)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY RSI(14): 68.91 (near overbought)                                         

Tools Used:                                                                     

 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=5) - RSI values    
   calculated over 14 days.                                                     

📊 Performance Metrics:
   ⏱️  Response Time: 3.149s
   🔢  Tokens Used: 18,783 (Input: 18,688, Output: 95)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL MACD(12,26,9): 7.42                                                     
 • Signal: 6.97                                                                 
 • Histogram: 0.44                                                              

Tools Used:                                                                     

 • get_ta_macd(ticker='AAPL', timespan='day', short_window=12, long_window=26,  
   signal_window=9, limit=5) - MACD values provided for trend analysis.         

📊 Performance Metrics:
   ⏱️  Response Time: 4.095s
   🔢  Tokens Used: 19,637 (Input: 19,376, Output: 261)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL: 0.00                                                                   
 • MSFT: 0.00                                                                   
 • GOOGL: 0.00                                                                  

Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['AAPL','MSFT','GOOGL'], market_type='stocks') 
   - Multiple tickers requested; provided snapshot data for all three tickers.  

📊 Performance Metrics:
   ⏱️  Response Time: 5.396s
   🔢  Tokens Used: 20,719 (Input: 20,543, Output: 176)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 12/19/2025 C6500:                                                        
    • Open: 35.76                                                               
    • High: 37.67                                                               
    • Low: 34.60                                                                
    • Close: 34.90                                                              
    • Implied Vol: 18.12%                                                       
    • Delta: 0.679                                                              
    • Gamma: 0.00663                                                            
    • Theta: -0.165                                                             
    • Vega: 1.143                                                               
    • Open Interest: 21,568                                                     

Notes:                                                                          

 • Break-even price: not provided                                               
 • Last price/quote not returned in this data snapshot                          

Contract: O:SPY251219C00650000 Source: Polygon.io                               

Tools Used:                                                                     

 • get_options_quote_single(underlying_asset='SPY',                             
   option_contract='O:SPY251219C00650000') - Retrieved option contract details  
   and Greeks for the requested SPY call.                                       

📊 Performance Metrics:
   ⏱️  Response Time: 4.740s
   🔢  Tokens Used: 21,662 (Input: 21,426, Output: 236)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL daily bars (2024-01-01 to 2024-03-31): 61 bars                          
 • Start (2024-01-01): Open 187.15, High 188.44, Low 183.89, Close 185.64       
 • End (2024-03-31): Open 171.75, High 172.23, Low 170.51, Close 171.48         

Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='AAPL', from_date='2024-01-01',       
   to_date='2024-03-31', timespan='day', multiplier=1) - Retrieved daily OHLC   
   bars for the specified date range.                                           

📊 Performance Metrics:
   ⏱️  Response Time: 5.670s
   🔢  Tokens Used: 26,962 (Input: 26,485, Output: 477)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • TSLA 12/13/2024: Open 420.00, High 436.30, Low 415.71, Close 436.23          

Tools Used:                                                                     

 • get_OHLC_bars_specific_date(ticker='TSLA', date='2024-12-13', adjusted=True) 
   - Retrieved TSLA OHLC for the specified date.                                

📊 Performance Metrics:
   ⏱️  Response Time: 6.005s
   🔢  Tokens Used: 31,679 (Input: 31,430, Output: 249)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY previous close: 669.21                                                   

Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Retrieved last   
   close price data for SPY.                                                    

📊 Performance Metrics:
   ⏱️  Response Time: 9.194s
   🔢  Tokens Used: 31,994 (Input: 31,852, Output: 142)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> Goodbye!
📊 CLI session cleaned up

=== END PERSISTENT SESSION TEST REPORT ===
