=== PERSISTENT SESSION TEST REPORT ===
Timestamp: Sun Oct  5 16:43:07 PDT 2025
Total Tests: 16
Passed: 16
Failed: 0
Success Rate: 100%
Total Session Duration: 104.626628094s
Session Mode: PERSISTENT (single session)
Session Count Detected: 1

=== RESPONSE TIME ANALYSIS ===
Min Response Time: 2.733s
Max Response Time: 16.419s
Avg Response Time: 6.69s
Performance Rating: EXCELLENT

=== TEST RESULTS DETAIL ===
Test 1: Test_1_Market_Status_Query - PASS
  Response Time: 4.063s
Test 2: Test_2_Single_Stock_Snapshot_NVDA - PASS
  Response Time: 4.178s
Test 3: Test_3_Multi_Stock_Snapshot_SPY_QQQ_IWM - PASS
  Response Time: 12.712s
Test 4: Test_4_Closing_Price_Query_SPY - PASS
  Response Time: 3.947s
Test 5: Test_5_Weekly_Performance_Analysis_SPY - PASS
  Response Time: 8.564s
Test 6: Test_6_Support_Resistance_SPY - PASS
  Response Time: 2.733s
Test 7: Test_7_Technical_Analysis_SPY - PASS
  Response Time: 8.837s
Test 8: Test_8_SMA_Indicator_SPY - PASS
  Response Time: 3.595s
Test 9: Test_9_EMA_Indicator_NVDA - PASS
  Response Time: 4.384s
Test 10: Test_10_RSI_Indicator_SPY - PASS
  Response Time: 5.462s
Test 11: Test_11_MACD_Indicator_AAPL - PASS
  Response Time: 5.538s
Test 12: Test_12_Multi_Ticker_Quote_AAPL_MSFT_GOOGL - PASS
  Response Time: 16.419s
Test 13: Test_13_Options_Quote_SPY_Call - PASS
  Response Time: 7.591s
Test 14: Test_14_OHLC_Custom_Date_Range_AAPL - PASS
  Response Time: 8.020s
Test 15: Test_15_OHLC_Specific_Date_TSLA - PASS
  Response Time: 5.692s
Test 16: Test_16_OHLC_Previous_Close_SPY - PASS
  Response Time: 5.329s

=== FULL CLI OUTPUT ===
Welcome to the GPT-5 powered Market Analysis Agent. Type 'exit' to quit.
📊 CLI session 'cli_session' initialized for conversation memory
> 
✅ Query processed successfully!
Agent Response:


 • Market status: Closed                                                        
 • Server time: 2025-10-05 19:41:24 (UTC-04:00)                                 
 • Exchanges: Nasdaq, NYSE, OTC closed                                          
 • After-hours: No                                                              
 • Early hours: No                                                              

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_market_status_and_date_time() - Provided current market status and server
   datetime per RULE #4                                                         

📊 Performance Metrics:
   ⏱️  Response Time: 4.063s
   🔢  Tokens Used: 10,877 (Input: 10,643, Output: 234)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA: 187.62                                                                 
 • Change: -1.27 (-0.67%)                                                       
 • Day high: 190.36                                                             
 • Day low: 185.38                                                              
 • Open: 189.19                                                                 
 • Previous close: 188.89                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote(ticker='NVDA') - Single ticker request, used get_stock_quote 
   per RULE #1                                                                  

📊 Performance Metrics:
   ⏱️  Response Time: 4.178s
   🔢  Tokens Used: 11,167 (Input: 11,054, Output: 113)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY: 669.21 (-0.01%)                                                         
    • High: 672.67                                                              
    • Low: 668.16                                                               
    • Open: 669.99                                                              
    • Prev close: 669.22                                                        
 • QQQ: 603.18 (-0.42%)                                                         
    • High: 607.33                                                              
    • Low: 601.38                                                               
    • Open: 606.51                                                              
    • Prev close: 605.73                                                        
 • IWM: 245.83 (+0.74%)                                                         
    • High: 248.09                                                              
    • Low: 245.03                                                               
    • Open: 245.35                                                              
    • Prev close: 244.02                                                        

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['SPY','QQQ','IWM'], market_type='stocks') -   
   Initial attempt for efficiency with multiple tickers                         
 • get_stock_quote(ticker='SPY') - Fallback single ticker due to data           
   limitations in multi-ticker response                                         
 • get_stock_quote(ticker='QQQ') - Fallback single ticker due to data           
   limitations in multi-ticker response                                         
 • get_stock_quote(ticker='IWM') - Fallback single ticker due to data           
   limitations in multi-ticker response                                         

📊 Performance Metrics:
   ⏱️  Response Time: 12.712s
   🔢  Tokens Used: 31,608 (Input: 31,236, Output: 372)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY closing price today: 669.22                                              
 • Note: Market is closed today (Sunday); intraday data not available.          

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote(ticker='SPY') - Single ticker request to obtain last close   
   when market is closed                                                        

📊 Performance Metrics:
   ⏱️  Response Time: 3.947s
   🔢  Tokens Used: 14,119 (Input: 13,843, Output: 276)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY weekly price change: $7.39                                               
 • Weekly percentage change: 1.12%                                              
 • Start (2025-09-26) close: 661.82                                             
 • End (2025-10-03) close: 669.21                                               

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_specific_date(ticker='SPY', date='2025-10-03', adjusted=True) -
   Used to get end-of-week close                                                
 • get_OHLC_bars_specific_date(ticker='SPY', date='2025-09-26', adjusted=True) -
   Used to get prior Friday close                                               

📊 Performance Metrics:
   ⏱️  Response Time: 8.564s
   🔢  Tokens Used: 11,986 (Input: 11,178, Output: 808)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • Immediate resistance: 672.68                                                 
 • Next resistance: 676.00 (rounded level)                                      
 • Immediate support: 668.16                                                    
 • Next support: 660.00 (round level)                                           

Notes:                                                                          

 • Levels based on recent SPY high/low data (2025-10-03 close high 672.68, low  
   668.16).                                                                     

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_specific_date(ticker='SPY', date='2025-10-03', adjusted=True) -
   Used to identify recent high/low for SPY                                     
 • get_OHLC_bars_specific_date(ticker='SPY', date='2025-09-26', adjusted=True) -
   Used to corroborate prior support level                                      

📊 Performance Metrics:
   ⏱️  Response Time: 2.733s
   🔢  Tokens Used: 7,885 (Input: 7,402, Output: 483)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY Technical Analysis (daily)                                               
    • 50-day SMA: 648.03                                                        
    • 50-day EMA: 648.04                                                        
    • RSI (14): 69.00 (near overbought)                                         
    • MACD: 6.05, Signal: 5.99, Histogram: 0.06 (bullish slight)                

Notes:                                                                          

 • Indicators based on recent daily data; values shown are the latest in the    
   series.                                                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Calculate    
   50-day simple moving average                                                 
 • get_ta_ema(ticker='SPY', timespan='day', window=50, limit=10) - Calculate    
   50-day exponential moving average                                            
 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - RSI indicator
 • get_ta_macd(ticker='SPY', timespan='day', short_window=12, long_window=26,   
   signal_window=9, limit=10) - MACD indicator                                  

📊 Performance Metrics:
   ⏱️  Response Time: 8.837s
   🔢  Tokens Used: 11,777 (Input: 11,181, Output: 596)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY 50-day SMA: 648.03                                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_sma(ticker='SPY', timespan='day', window=50, limit=10) - Retrieve     
   50-day SMA value                                                             

📊 Performance Metrics:
   ⏱️  Response Time: 3.595s
   🔢  Tokens Used: 19,379 (Input: 19,221, Output: 158)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • NVDA 20-day EMA: 180.54                                                      

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_ema(ticker='NVDA', timespan='day', window=20, limit=10) - Retrieve    
   20-day EMA for NVDA                                                          

📊 Performance Metrics:
   ⏱️  Response Time: 4.384s
   🔢  Tokens Used: 20,059 (Input: 19,964, Output: 95)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY RSI (14, daily): 69.00 (near overbought)                                 

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_rsi(ticker='SPY', timespan='day', window=14, limit=10) - RSI indicator
   for SPY                                                                      

📊 Performance Metrics:
   ⏱️  Response Time: 5.462s
   🔢  Tokens Used: 20,992 (Input: 20,830, Output: 162)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL MACD: 7.41, Signal: 6.97, Histogram: 0.44 (bullish)                     

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_ta_macd(ticker='AAPL', timespan='day', short_window=12, long_window=26,  
   signal_window=9, limit=10) - MACD indicator for AAPL                         

📊 Performance Metrics:
   ⏱️  Response Time: 5.538s
   🔢  Tokens Used: 21,988 (Input: 21,858, Output: 130)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL: 258.02 (+0.35%)                                                        
    • High: 259.24                                                              
    • Low: 253.95                                                               
    • Open: 254.66                                                              
    • Prev close: 257.13                                                        
 • MSFT: 517.35 (+0.31%)                                                        
    • High: 520.49                                                              
    • Low: 515.00                                                               
    • Open: 517.10                                                              
    • Prev close: 515.74                                                        
 • GOOGL: 245.35 (-0.14%)                                                       
    • High: 246.30                                                              
    • Low: 241.66                                                               
    • Open: 244.49                                                              
    • Prev close: 245.69                                                        

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_stock_quote_multi(tickers=['AAPL','MSFT','GOOGL'], market_type='stocks') 
   - Initial attempt for efficiency with multiple tickers                       
 • Fallback to:                                                                 
 • get_stock_quote(ticker='AAPL') - Single ticker quote due to data limitations 
   in multi-ticker response                                                     
 • get_stock_quote(ticker='MSFT') - Single ticker quote due to data limitations 
   in multi-ticker response                                                     
 • get_stock_quote(ticker='GOOGL') - Single ticker quote due to data limitations
   in multi-ticker response                                                     

📊 Performance Metrics:
   ⏱️  Response Time: 16.419s
   🔢  Tokens Used: 60,343 (Input: 59,836, Output: 507)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • Contract: O:SPY251219C00650000                                               
 • Underlying: SPY                                                              
 • Implied Volatility: 18.12%                                                   
 • Delta: 0.679                                                                 
 • Gamma: 0.0066                                                                
 • Theta: -0.165                                                                
 • Vega: 1.143                                                                  
 • Day range: Open 35.76, High 37.67, Low 34.60, Close 34.90                    
 • Last traded price: 34.90 (day close)                                         
 • Open Interest: 21,568                                                        
 • Volume (today): 247                                                          
 • Break-even price: not provided                                               

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_options_quote_single(underlying_asset='SPY',                             
   option_contract='O:SPY251219C00650000') - Single options quote for specific  
   contract                                                                     

📊 Performance Metrics:
   ⏱️  Response Time: 7.591s
   🔢  Tokens Used: 25,551 (Input: 25,141, Output: 410)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • AAPL daily bars requested: 2024-01-01 to 2024-03-31                          
 • Bars returned: 61 trading days (Open, High, Low, Close, Volume per day)      

Sample highlights:                                                              

 • First bar open around 187.15, close around 185.64                            
 • Last bar close around 185.? (period end)                                     
 • Typical intraday high/low ranges visible in the data set (example: highs near
   191, lows near 180s)                                                         

Note: Data covers weekdays only; weekends/holidays excluded.                    

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_custom_date_range(ticker='AAPL', from_date='2024-01-01',       
   to_date='2024-03-31', timespan='day', multiplier=1, limit=5000) - Retrieve 61
   daily bars for AAPL over the specified range                                 

📊 Performance Metrics:
   ⏱️  Response Time: 8.020s
   🔢  Tokens Used: 30,779 (Input: 30,140, Output: 639)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • TSLA price on 2024-12-13: Close 436.23                                       
 • Open 420.00, High 436.30, Low 415.71                                         
 • Volume: 88,937,833                                                           

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_specific_date(ticker='TSLA', date='2024-12-13', adjusted=True) 
   - Provide exact daily OHLC for the requested date                            

📊 Performance Metrics:
   ⏱️  Response Time: 5.692s
   🔢  Tokens Used: 35,392 (Input: 35,128, Output: 264)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> 
✅ Query processed successfully!
Agent Response:


 • SPY previous trading day close: 669.21                                       

────────────────────────────────────────────────────────────────────────────────
Tools Used:                                                                     

 • get_OHLC_bars_previous_close(ticker='SPY', adjusted=True) - Retrieve last    
   close on previous trading day                                                

📊 Performance Metrics:
   ⏱️  Response Time: 5.329s
   🔢  Tokens Used: 35,795 (Input: 35,649, Output: 146)
   🤖  Model: gpt-5-nano

──────────────────────────────────────────────────

> Goodbye!
📊 CLI session cleaned up

=== END PERSISTENT SESSION TEST REPORT ===
